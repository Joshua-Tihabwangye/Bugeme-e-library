import{j as e,L as u}from"./index-BrKjOGpc.js";import{r as k,L as v}from"./react-vendor-BXWpoY3z.js";import{u as f}from"./useQuery-BaEuwe5n.js";import{b}from"./reading-Co7X6AH1.js";import{S as o}from"./StatCard-DhUUQoJe.js";import{R as n,T as d,B as y}from"./generateCategoricalChart-BZoSG4To.js";import{B as w,C as c,X as x,Y as h}from"./BarChart-BYL-tyHd.js";import{A as C,a as P}from"./AreaChart-D2l6pox1.js";import"./ui-vendor-DIXPZkrp.js";import"./tiny-invariant-CopsF_GD.js";const K=()=>{const[r,m]=k.useState("week"),{data:i,isLoading:p}=f({queryKey:["analytics-pages",r],queryFn:()=>b(r)});if(p)return e.jsx(u,{label:"Loading page analytics..."});const s=i?.pages_daily_activity||[],g=i?.total_pages_read||0,l=s.reduce((a,t)=>a+t.pages,0),j=s.length>0?Math.round(l/s.length):0;return e.jsxs("div",{className:"space-y-8 animate-in",children:[e.jsxs(v,{to:"/dashboard",className:"inline-flex items-center gap-2 text-sm font-medium text-slate-600 hover:text-brand-600 dark:text-slate-400 dark:hover:text-brand-400",children:[e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Dashboard"]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Pages Analytics"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Track your reading volume over time"})]}),e.jsxs("select",{value:r,onChange:a=>m(a.target.value),className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-700 dark:border-white/10 dark:bg-slate-800 dark:text-white",children:[e.jsx("option",{value:"week",children:"This Week"}),e.jsx("option",{value:"month",children:"This Month"}),e.jsx("option",{value:"year",children:"This Year"})]})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[e.jsx(o,{label:"Total Pages Read",value:g,icon:e.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),variant:"emerald"}),e.jsx(o,{label:"Pages This Period",value:l,icon:e.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),variant:"blue"}),e.jsx(o,{label:"Avg Pages / Day",value:j,icon:e.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),variant:"violet"})]}),e.jsxs("div",{className:"grid gap-8 lg:grid-cols-2",children:[e.jsxs("div",{className:"card h-96",children:[e.jsx("h2",{className:"mb-6 text-lg font-semibold text-slate-900 dark:text-white",children:"Pages Read Per Day"}),e.jsx(n,{width:"100%",height:"100%",children:e.jsxs(w,{data:s,children:[e.jsx(c,{strokeDasharray:"3 3",stroke:"#e2e8f0",opacity:.5}),e.jsx(x,{dataKey:"date",stroke:"#64748b",fontSize:12,tickMargin:10,tickFormatter:a=>{const t=new Date(a);return`${t.getDate()}/${t.getMonth()+1}`}}),e.jsx(h,{stroke:"#64748b",fontSize:12}),e.jsx(d,{contentStyle:{backgroundColor:"white",borderRadius:"8px",border:"1px solid #e2e8f0",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},labelStyle:{color:"#64748b"}}),e.jsx(y,{dataKey:"pages",fill:"#10b981",radius:[4,4,0,0],name:"Pages"})]})})]}),e.jsxs("div",{className:"card h-96",children:[e.jsx("h2",{className:"mb-6 text-lg font-semibold text-slate-900 dark:text-white",children:"Reading Volume Trend"}),e.jsx(n,{width:"100%",height:"100%",children:e.jsxs(C,{data:s,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorPages",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#8b5cf6",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#8b5cf6",stopOpacity:0})]})}),e.jsx(c,{strokeDasharray:"3 3",stroke:"#e2e8f0",opacity:.5}),e.jsx(x,{dataKey:"date",stroke:"#64748b",fontSize:12,tickFormatter:a=>{const t=new Date(a);return`${t.getDate()}/${t.getMonth()+1}`}}),e.jsx(h,{stroke:"#64748b",fontSize:12}),e.jsx(d,{contentStyle:{backgroundColor:"white",borderRadius:"8px",border:"1px solid #e2e8f0",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),e.jsx(P,{type:"monotone",dataKey:"pages",stroke:"#8b5cf6",fillOpacity:1,fill:"url(#colorPages)",name:"Pages"})]})})]})]})]})};export{K as default};
