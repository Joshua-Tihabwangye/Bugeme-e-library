import{j as e,L as m}from"./index-C_R6iRdk.js";import{h as b,e as p,L as i}from"./react-vendor-BXWpoY3z.js";import{u}from"./useQuery-DjejrF76.js";import{a as h}from"./subscriptions-D2v3T0Hl.js";import{a as r,q as o,i as y,c as j,W as f,A as g}from"./ui-vendor-DTvEXM4H.js";const A=()=>{const{planId:s}=b(),d=p(),{data:l,isLoading:c,isError:n}=u({queryKey:["subscription-plans"],queryFn:h}),a=(Array.isArray(l)?l:[]).find(t=>t.id===Number(s)),x=[{id:"mobile-money",name:"Mobile Money",subtitle:"MTN MoMo or Airtel Money",icon:y,color:"text-yellow-600",bg:"bg-gradient-to-br from-yellow-50 to-orange-50 dark:from-yellow-500/10 dark:to-orange-500/10",border:"border-yellow-200 dark:border-yellow-500/30",route:`/subscription/payment/${s}/mobile-money`},{id:"card",name:"Card Payment",subtitle:"Visa or MasterCard",icon:j,color:"text-blue-600",bg:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-500/10 dark:to-indigo-500/10",border:"border-blue-200 dark:border-blue-500/30",route:`/subscription/payment/${s}/card`},{id:"paypal",name:"PayPal",subtitle:"Pay with PayPal account",icon:f,color:"text-sky-600",bg:"bg-gradient-to-br from-sky-50 to-cyan-50 dark:from-sky-500/10 dark:to-cyan-500/10",border:"border-sky-200 dark:border-sky-500/30",route:`/subscription/payment/${s}/paypal`}];return c?e.jsx(m,{label:"Loading payment options"}):n||!a?e.jsx("div",{className:"mx-auto max-w-lg space-y-6 py-8 animate-in",children:e.jsxs("div",{className:"flex min-h-[60vh] flex-col items-center justify-center space-y-4 text-center",children:[e.jsx("div",{className:"rounded-full bg-rose-100 p-6 dark:bg-rose-500/10",children:e.jsx(r,{className:"h-16 w-16 text-rose-600 dark:text-rose-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Plan Not Found"}),e.jsx("p",{className:"mt-2 text-slate-600 dark:text-slate-400",children:n?"Failed to load subscription plans. Please try again.":"The selected plan could not be found."})]}),e.jsxs(i,{to:"/subscription/plans",className:"btn-primary",children:[e.jsx(o,{className:"h-5 w-5"}),"Back to Plans"]})]})}):e.jsxs("div",{className:"mx-auto max-w-lg space-y-6 py-8 animate-in",children:[e.jsxs(i,{to:"/subscription/plans",className:"inline-flex items-center gap-2 text-sm font-medium text-slate-600 hover:text-brand-600 dark:text-slate-400",children:[e.jsx(o,{className:"h-4 w-4"}),"Back to plans"]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto mb-4 flex h-14 w-14 items-center justify-center rounded-2xl bg-gradient-to-br from-brand-500 to-brand-600",children:e.jsx(r,{className:"h-7 w-7 text-white"})}),e.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Secure Payment"}),e.jsx("p",{className:"mt-2 text-slate-600 dark:text-slate-400",children:"Choose your preferred payment method"})]}),e.jsx("div",{className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-white/10 dark:bg-slate-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Selected Plan"}),e.jsx("p",{className:"font-semibold text-slate-900 dark:text-white",children:a?.name||"Subscription Plan"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Amount"}),e.jsxs("p",{className:"text-lg font-bold text-brand-600 dark:text-brand-400",children:["UGX"," ",a?Number(a.price).toLocaleString():"---"]})]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Select Payment Method"}),x.map(t=>e.jsxs("button",{onClick:()=>d(t.route),className:`flex w-full items-center gap-4 rounded-xl border ${t.border} ${t.bg} p-4 transition-all hover:scale-[1.01] hover:shadow-md`,children:[e.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-xl bg-white shadow-sm dark:bg-slate-800 ${t.color}`,children:e.jsx(t.icon,{size:24})}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("p",{className:"font-semibold text-slate-900 dark:text-white",children:t.name}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:t.subtitle})]}),e.jsx(g,{className:"h-5 w-5 text-slate-400"})]},t.id))]}),e.jsxs("div",{className:"flex items-center justify-center gap-4 pt-4 text-xs text-slate-500 dark:text-slate-400",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(r,{className:"h-3 w-3"}),"Secure Payment"]}),e.jsx("span",{children:"•"}),e.jsx("span",{children:"256-bit SSL"}),e.jsx("span",{children:"•"}),e.jsx("span",{children:"Instant Access"})]})]})};export{A as default};
