import{u as g,j as e,r as w,z as d}from"./index-JCKDIzil.js";import{u as j}from"./useMutation-ra1mZCKk.js";import{u as y,t as k,o as N,s as l}from"./types-BXF7fmc6.js";import{r as n,e as v,L as P}from"./react-vendor-BXWpoY3z.js";import{E as c,r as x,A as S}from"./ui-vendor-LNFcJBPj.js";const C=N({name:l().min(3,"Name must be at least 3 characters"),email:l().email("Invalid email address"),password:l().min(8,"Password must be at least 8 characters"),password_confirm:l().min(8,"Password must be at least 8 characters")}).refine(a=>a.password===a.password_confirm,{message:"Passwords must match",path:["password_confirm"]}),F=()=>{const[a,m]=n.useState(!1),[o,u]=n.useState(!1),p=v();g(r=>r.setSession);const{register:i,handleSubmit:h,formState:{errors:s}}=y({resolver:k(C)}),t=j({mutationFn:w,onSuccess:()=>{d.success("Account created successfully! Please sign in."),p("/login")},onError:r=>{const f=r?.response?.data?.error||"Registration failed";d.error(f)}}),b=h(r=>{t.mutate(r)});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-slate-900 dark:text-white",children:"Create Visitor Account"}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Step 1 of 2: Create your profile"})]}),e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 dark:text-slate-400",children:"Full name"}),e.jsx("input",{...i("name"),disabled:t.isPending,className:"mt-2 w-full rounded-xl border border-slate-300 bg-white px-4 py-2 text-sm text-slate-900 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-brand-500 dark:border-white/10 dark:bg-slate-900 dark:text-white disabled:opacity-50",placeholder:"User name"}),s.name&&e.jsx("p",{className:"text-xs text-red-400",children:s.name.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 dark:text-slate-400",children:"Email"}),e.jsx("input",{type:"email",...i("email"),disabled:t.isPending,className:"mt-2 w-full rounded-xl border border-slate-300 bg-white px-4 py-2 text-sm text-slate-900 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-brand-500 dark:border-white/10 dark:bg-slate-900 dark:text-white disabled:opacity-50",placeholder:"user@gmail.com"}),s.email&&e.jsx("p",{className:"text-xs text-red-400",children:s.email.message})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 dark:text-slate-400",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:a?"text":"password",...i("password"),disabled:t.isPending,className:"mt-2 w-full rounded-xl border border-slate-300 bg-white px-4 py-2 text-sm text-slate-900 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-brand-500 dark:border-white/10 dark:bg-slate-900 dark:text-white disabled:opacity-50"}),e.jsx("button",{type:"button",onClick:()=>m(!a),className:"absolute right-3 top-[18px] text-slate-400 hover:text-white",children:a?e.jsx(c,{size:16}):e.jsx(x,{size:16})})]}),s.password&&e.jsx("p",{className:"text-xs text-red-400",children:s.password.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 dark:text-slate-400",children:"Confirm password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:o?"text":"password",...i("password_confirm"),disabled:t.isPending,className:"mt-2 w-full rounded-xl border border-slate-300 bg-white px-4 py-2 text-sm text-slate-900 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-brand-500 dark:border-white/10 dark:bg-slate-900 dark:text-white disabled:opacity-50"}),e.jsx("button",{type:"button",onClick:()=>u(!o),className:"absolute right-3 top-[18px] text-slate-400 hover:text-white",children:o?e.jsx(c,{size:16}):e.jsx(x,{size:16})})]}),s.password_confirm&&e.jsx("p",{className:"text-xs text-red-400",children:s.password_confirm.message})]})]}),e.jsxs("button",{type:"submit",className:"btn-primary flex w-full items-center justify-center gap-2",disabled:t.isPending,children:[t.isPending?"Creatingâ€¦":"Continue to Plans",!t.isPending&&e.jsx(S,{size:18})]})]}),e.jsx("div",{className:"flex flex-col gap-2 text-center text-sm text-slate-600 dark:text-slate-400",children:e.jsxs("p",{children:["Already have an account?"," ",e.jsx(P,{to:"/login",className:"font-semibold text-sky-700 underline underline-offset-2 hover:text-sky-800 dark:text-sky-300 dark:hover:text-sky-200",children:"Sign in"})]})})]})};export{F as default};
