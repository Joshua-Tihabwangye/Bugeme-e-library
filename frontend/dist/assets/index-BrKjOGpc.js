const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomePage-BKzD-zPN.js","assets/useQuery-BaEuwe5n.js","assets/react-vendor-BXWpoY3z.js","assets/catalog-DmW0mdZp.js","assets/StatCard-DhUUQoJe.js","assets/ui-vendor-DIXPZkrp.js","assets/CatalogPage-BNd_mTHz.js","assets/useMutation-DBZgN-6u.js","assets/useSubscription-DEUnAb0J.js","assets/subscriptions-CKR5TxXt.js","assets/SubscriptionPaywall-CCiqsXst.js","assets/BookDetailPage-BpypG7aF.js","assets/ReaderPage-BP-X1413.js","assets/reading-Co7X6AH1.js","assets/tiny-invariant-CopsF_GD.js","assets/ReaderPage-C7FgI5u6.css","assets/DashboardPage-eEKx9MTK.js","assets/AnalyticsPage-Bm6GFKBp.js","assets/generateCategoricalChart-BZoSG4To.js","assets/BarChart-BYL-tyHd.js","assets/LineChart-em2V4C_f.js","assets/PieChart-CxgaPNGU.js","assets/AnalyticsTimePage-BLZtJvqo.js","assets/AreaChart-D2l6pox1.js","assets/AnalyticsStreakPage-DNf_Z1SE.js","assets/AnalyticsPagesPage-BGQ-ySro.js","assets/AnalyticsCompletionPage-BRpv7KIM.js","assets/CompletedBooksPage-DbBP7udO.js","assets/ProfilePage-SjiVYlvu.js","assets/LibrisAIPage-BhDFobEK.js","assets/LoginPage-Bpyjlo7U.js","assets/types-BXF7fmc6.js","assets/RegisterPage-UAnZ_Gnz.js","assets/ForgotPasswordPage-Dqxozfwr.js","assets/ResetCodePage-CRNtYvxs.js","assets/NewPasswordPage-BOO8Qc6b.js","assets/VisitorAccessPage-BxAFcRyF.js","assets/VisitorRegisterPage-BdE2YXUu.js","assets/SubscriptionPlansPage-DREaus1z.js","assets/SubscriptionPaymentPage-CjDBVMh9.js","assets/MobileMoneyPaymentPage-DMQBUsjb.js","assets/CardPaymentPage-dzTBv7YH.js","assets/PayPalPaymentPage-DuRknaT0.js","assets/AdminOverviewPage-DZhIHyUX.js","assets/AdminUsersPage-C4-K0D1U.js","assets/AdminSubscriptionsPage-DOchUPhw.js","assets/AdminBooksPage-CVEmxSRm.js","assets/AdminCategoriesPage-ChL4Pv5-.js","assets/UnauthorizedPage-N-uBqZeg.js"])))=>i.map(i=>d[i]);
import{r as b,a as tr,g as sr,R as Xt,L as re,N as Z,O as Ne,u as rr,b as Re,c as nr,d as S,B as ir}from"./react-vendor-BXWpoY3z.js";import{H as or,B as Zt,S as ar,a as lr,L as Yt,X as es,M as ts,C as cr,b as ur,U as dr,c as fr,F as hr}from"./ui-vendor-DIXPZkrp.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();var ss={exports:{}},Ce={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mr=b,pr=Symbol.for("react.element"),yr=Symbol.for("react.fragment"),gr=Object.prototype.hasOwnProperty,br=mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xr={key:!0,ref:!0,__self:!0,__source:!0};function rs(e,t,s){var r,n={},i=null,o=null;s!==void 0&&(i=""+s),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)gr.call(t,r)&&!xr.hasOwnProperty(r)&&(n[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)n[r]===void 0&&(n[r]=t[r]);return{$$typeof:pr,type:e,key:i,ref:o,props:n,_owner:br.current}}Ce.Fragment=yr;Ce.jsx=rs;Ce.jsxs=rs;ss.exports=Ce;var a=ss.exports,Xe={},wt=tr;Xe.createRoot=wt.createRoot,Xe.hydrateRoot=wt.hydrateRoot;var Le=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},vr={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},wr=class{#e=vr;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},Ze=new wr;function jr(e){setTimeout(e,0)}var Fe=typeof window>"u"||"Deno"in globalThis;function D(){}function Er(e,t){return typeof e=="function"?e(t):e}function Sr(e){return typeof e=="number"&&e>=0&&e!==1/0}function Or(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ye(e,t){return typeof e=="function"?e(t):e}function kr(e,t){return typeof e=="function"?e(t):e}function jt(e,t){const{type:s="all",exact:r,fetchStatus:n,predicate:i,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==lt(o,t.options))return!1}else if(!de(t.queryKey,o))return!1}if(s!=="all"){const d=t.isActive();if(s==="active"&&!d||s==="inactive"&&d)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||n&&n!==t.state.fetchStatus||i&&!i(t))}function Et(e,t){const{exact:s,status:r,predicate:n,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(s){if(ue(t.options.mutationKey)!==ue(i))return!1}else if(!de(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||n&&!n(t))}function lt(e,t){return(t?.queryKeyHashFn||ue)(e)}function ue(e){return JSON.stringify(e,(t,s)=>et(s)?Object.keys(s).sort().reduce((r,n)=>(r[n]=s[n],r),{}):s)}function de(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(s=>de(e[s],t[s])):!1}var _r=Object.prototype.hasOwnProperty;function ns(e,t){if(e===t)return e;const s=St(e)&&St(t);if(!s&&!(et(e)&&et(t)))return t;const n=(s?e:Object.keys(e)).length,i=s?t:Object.keys(t),o=i.length,l=s?new Array(o):{};let d=0;for(let c=0;c<o;c++){const u=s?c:i[c],m=e[u],g=t[u];if(m===g){l[u]=m,(s?c<n:_r.call(e,u))&&d++;continue}if(m===null||g===null||typeof m!="object"||typeof g!="object"){l[u]=g;continue}const x=ns(m,g);l[u]=x,x===m&&d++}return n===o&&d===n?e:l}function Ma(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}function St(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function et(e){if(!Ot(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!Ot(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Ot(e){return Object.prototype.toString.call(e)==="[object Object]"}function Rr(e){return new Promise(t=>{Ze.setTimeout(t,e)})}function Pr(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?ns(e,t):t}function Ba(e){return e}function Ar(e,t,s=0){const r=[...e,t];return s&&r.length>s?r.slice(1):r}function Tr(e,t,s=0){const r=[t,...e];return s&&r.length>s?r.slice(0,-1):r}var ct=Symbol();function is(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===ct?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function qa(e,t){return typeof e=="function"?e(...t):!!e}var Nr=class extends Le{#e;#t;#s;constructor(){super(),this.#s=e=>{if(!Fe&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#s=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},os=new Nr;function Cr(){let e,t;const s=new Promise((n,i)=>{e=n,t=i});s.status="pending",s.catch(()=>{});function r(n){Object.assign(s,n),delete s.resolve,delete s.reject}return s.resolve=n=>{r({status:"fulfilled",value:n}),e(n)},s.reject=n=>{r({status:"rejected",reason:n}),t(n)},s}var Lr=jr;function Fr(){let e=[],t=0,s=l=>{l()},r=l=>{l()},n=Lr;const i=l=>{t?e.push(l):n(()=>{s(l)})},o=()=>{const l=e;e=[],l.length&&n(()=>{r(()=>{l.forEach(d=>{s(d)})})})};return{batch:l=>{let d;t++;try{d=l()}finally{t--,t||o()}return d},batchCalls:l=>(...d)=>{i(()=>{l(...d)})},schedule:i,setNotifyFunction:l=>{s=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{n=l}}}var N=Fr(),Dr=class extends Le{#e=!0;#t;#s;constructor(){super(),this.#s=e=>{if(!Fe&&window.addEventListener){const t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#s=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(s=>{s(e)}))}isOnline(){return this.#e}},Pe=new Dr;function Ir(e){return Math.min(1e3*2**e,3e4)}function as(e){return(e??"online")==="online"?Pe.isOnline():!0}var tt=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function ls(e){let t=!1,s=0,r;const n=Cr(),i=()=>n.status!=="pending",o=y=>{if(!i()){const p=new tt(y);g(p),e.onCancel?.(p)}},l=()=>{t=!0},d=()=>{t=!1},c=()=>os.isFocused()&&(e.networkMode==="always"||Pe.isOnline())&&e.canRun(),u=()=>as(e.networkMode)&&e.canRun(),m=y=>{i()||(r?.(),n.resolve(y))},g=y=>{i()||(r?.(),n.reject(y))},x=()=>new Promise(y=>{r=p=>{(i()||c())&&y(p)},e.onPause?.()}).then(()=>{r=void 0,i()||e.onContinue?.()}),h=()=>{if(i())return;let y;const p=s===0?e.initialPromise:void 0;try{y=p??e.fn()}catch(w){y=Promise.reject(w)}Promise.resolve(y).then(m).catch(w=>{if(i())return;const v=e.retry??(Fe?0:3),j=e.retryDelay??Ir,k=typeof j=="function"?j(s,w):j,P=v===!0||typeof v=="number"&&s<v||typeof v=="function"&&v(s,w);if(t||!P){g(w);return}s++,e.onFail?.(s,w),Rr(k).then(()=>c()?void 0:x()).then(()=>{t?g(w):h()})})};return{promise:n,status:()=>n.status,cancel:o,continue:()=>(r?.(),n),cancelRetry:l,continueRetry:d,canStart:u,start:()=>(u()?h():x().then(h),n)}}var cs=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Sr(this.gcTime)&&(this.#e=Ze.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Fe?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(Ze.clearTimeout(this.#e),this.#e=void 0)}},Ur=class extends cs{#e;#t;#s;#n;#r;#o;#a;constructor(e){super(),this.#a=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#n=e.client,this.#s=this.#n.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=_t(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=_t(this.options);t.data!==void 0&&(this.setState(kt(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#s.remove(this)}setData(e,t){const s=Pr(this.state.data,e,this.options);return this.#i({data:s,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),s}setState(e,t){this.#i({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(D).catch(D):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>kr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ct||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Ye(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Or(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#a?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#s.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const l=this.observers.find(d=>d.options.queryFn);l&&this.setOptions(l.options)}const s=new AbortController,r=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#a=!0,s.signal)})},n=()=>{const l=is(this.options,t),c=(()=>{const u={client:this.#n,queryKey:this.queryKey,meta:this.meta};return r(u),u})();return this.#a=!1,this.options.persister?this.options.persister(l,c,this):l(c)},o=(()=>{const l={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:n};return r(l),l})();this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#i({type:"fetch",meta:o.fetchOptions?.meta}),this.#r=ls({initialPromise:t?.initialPromise,fn:o.fetchFn,onCancel:l=>{l instanceof tt&&l.revert&&this.setState({...this.#t,fetchStatus:"idle"}),s.abort()},onFail:(l,d)=>{this.#i({type:"failed",failureCount:l,error:d})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const l=await this.#r.start();if(l===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(l),this.#s.config.onSuccess?.(l,this),this.#s.config.onSettled?.(l,this.state.error,this),l}catch(l){if(l instanceof tt){if(l.silent)return this.#r.promise;if(l.revert){if(this.state.data===void 0)throw l;return this.state.data}}throw this.#i({type:"error",error:l}),this.#s.config.onError?.(l,this),this.#s.config.onSettled?.(this.state.data,l,this),l}finally{this.scheduleGc()}}#i(e){const t=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Mr(s.data,this.options),fetchMeta:e.meta??null};case"success":const r={...s,...kt(e.data,e.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?r:void 0,r;case"error":const n=e.error;return{...s,error:n,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=t(this.state),N.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#s.notify({query:this,type:"updated",action:e})})}};function Mr(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:as(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function kt(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function _t(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,r=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}function Rt(e){return{onFetch:(t,s)=>{const r=t.options,n=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let l={pages:[],pageParams:[]},d=0;const c=async()=>{let u=!1;const m=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(t.signal.aborted?u=!0:t.signal.addEventListener("abort",()=>{u=!0}),t.signal)})},g=is(t.options,t.fetchOptions),x=async(h,y,p)=>{if(u)return Promise.reject();if(y==null&&h.pages.length)return Promise.resolve(h);const v=(()=>{const U={client:t.client,queryKey:t.queryKey,pageParam:y,direction:p?"backward":"forward",meta:t.options.meta};return m(U),U})(),j=await g(v),{maxPages:k}=t.options,P=p?Tr:Ar;return{pages:P(h.pages,j,k),pageParams:P(h.pageParams,y,k)}};if(n&&i.length){const h=n==="backward",y=h?Br:Pt,p={pages:i,pageParams:o},w=y(r,p);l=await x(p,w,h)}else{const h=e??i.length;do{const y=d===0?o[0]??r.initialPageParam:Pt(r,l);if(d>0&&y==null)break;l=await x(l,y),d++}while(d<h)}return l};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s):t.fetchFn=c}}}function Pt(e,{pages:t,pageParams:s}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,s[r],s):void 0}function Br(e,{pages:t,pageParams:s}){return t.length>0?e.getPreviousPageParam?.(t[0],t,s[0],s):void 0}var qr=class extends cs{#e;#t;#s;#n;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#s=e.mutationCache,this.#t=[],this.state=e.state||$r(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#s.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#s.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})},s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#n=ls({fn:()=>this.options.mutationFn?this.options.mutationFn(e,s):Promise.reject(new Error("No mutationFn found")),onFail:(i,o)=>{this.#r({type:"failed",failureCount:i,error:o})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#s.canRun(this)});const r=this.state.status==="pending",n=!this.#n.canStart();try{if(r)t();else{this.#r({type:"pending",variables:e,isPaused:n}),await this.#s.config.onMutate?.(e,this,s);const o=await this.options.onMutate?.(e,s);o!==this.state.context&&this.#r({type:"pending",context:o,variables:e,isPaused:n})}const i=await this.#n.start();return await this.#s.config.onSuccess?.(i,e,this.state.context,this,s),await this.options.onSuccess?.(i,e,this.state.context,s),await this.#s.config.onSettled?.(i,null,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(i,null,e,this.state.context,s),this.#r({type:"success",data:i}),i}catch(i){try{throw await this.#s.config.onError?.(i,e,this.state.context,this,s),await this.options.onError?.(i,e,this.state.context,s),await this.#s.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(void 0,i,e,this.state.context,s),i}finally{this.#r({type:"error",error:i})}}finally{this.#s.runNext(this)}}#r(e){const t=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),N.batch(()=>{this.#t.forEach(s=>{s.onMutationUpdate(e)}),this.#s.notify({mutation:this,type:"updated",action:e})})}};function $r(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var zr=class extends Le{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#s=0}#e;#t;#s;build(e,t,s){const r=new qr({client:e,mutationCache:this,mutationId:++this.#s,options:e.defaultMutationOptions(t),state:s});return this.add(r),r}add(e){this.#e.add(e);const t=we(e);if(typeof t=="string"){const s=this.#t.get(t);s?s.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=we(e);if(typeof t=="string"){const s=this.#t.get(t);if(s)if(s.length>1){const r=s.indexOf(e);r!==-1&&s.splice(r,1)}else s[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=we(e);if(typeof t=="string"){const r=this.#t.get(t)?.find(n=>n.state.status==="pending");return!r||r===e}else return!0}runNext(e){const t=we(e);return typeof t=="string"?this.#t.get(t)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){N.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(s=>Et(t,s))}findAll(e={}){return this.getAll().filter(t=>Et(e,t))}notify(e){N.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return N.batch(()=>Promise.all(e.map(t=>t.continue().catch(D))))}};function we(e){return e.options.scope?.id}var Hr=class extends Le{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,s){const r=t.queryKey,n=t.queryHash??lt(r,t);let i=this.get(n);return i||(i=new Ur({client:e,queryKey:r,queryHash:n,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(r)}),this.add(i)),i}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){N.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(s=>jt(t,s))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(s=>jt(e,s)):t}notify(e){N.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){N.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){N.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Qr=class{#e;#t;#s;#n;#r;#o;#a;#i;constructor(e={}){this.#e=e.queryCache||new Hr,this.#t=e.mutationCache||new zr,this.#s=e.defaultOptions||{},this.#n=new Map,this.#r=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=os.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Pe.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#i?.(),this.#i=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),s=this.#e.build(this,t),r=s.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(Ye(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:s})=>{const r=s.data;return[t,r]})}setQueryData(e,t,s){const r=this.defaultQueryOptions({queryKey:e}),i=this.#e.get(r.queryHash)?.state.data,o=Er(t,i);if(o!==void 0)return this.#e.build(this,r).setData(o,{...s,manual:!0})}setQueriesData(e,t,s){return N.batch(()=>this.#e.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,s)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;N.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=this.#e;return N.batch(()=>(s.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const s={revert:!0,...t},r=N.batch(()=>this.#e.findAll(e).map(n=>n.cancel(s)));return Promise.all(r).then(D).catch(D)}invalidateQueries(e,t={}){return N.batch(()=>(this.#e.findAll(e).forEach(s=>{s.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const s={...t,cancelRefetch:t.cancelRefetch??!0},r=N.batch(()=>this.#e.findAll(e).filter(n=>!n.isDisabled()&&!n.isStatic()).map(n=>{let i=n.fetch(void 0,s);return s.throwOnError||(i=i.catch(D)),n.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(D)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=this.#e.build(this,t);return s.isStaleByTime(Ye(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(D).catch(D)}fetchInfiniteQuery(e){return e.behavior=Rt(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(D).catch(D)}ensureInfiniteQueryData(e){return e.behavior=Rt(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Pe.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#s}setDefaultOptions(e){this.#s=e}setQueryDefaults(e,t){this.#n.set(ue(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#n.values()],s={};return t.forEach(r=>{de(e,r.queryKey)&&Object.assign(s,r.defaultOptions)}),s}setMutationDefaults(e,t){this.#r.set(ue(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#r.values()],s={};return t.forEach(r=>{de(e,r.mutationKey)&&Object.assign(s,r.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#s.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=lt(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===ct&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#s.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},us=b.createContext(void 0),$a=e=>{const t=b.useContext(us);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Vr=({client:e,children:t})=>(b.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(us.Provider,{value:e,children:t}));let Kr={data:""},Wr=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||Kr},Jr=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Gr=/\/\*[^]*?\*\/|  +/g,At=/\n+/g,K=(e,t)=>{let s="",r="",n="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?s=i+" "+o+";":r+=i[1]=="f"?K(o,i):i+"{"+K(o,i[1]=="k"?"":t)+"}":typeof o=="object"?r+=K(o,t?t.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,l):l?l+" "+d:d)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),n+=K.p?K.p(i,o):i+":"+o+";")}return s+(t&&n?t+"{"+n+"}":n)+r},z={},ds=e=>{if(typeof e=="object"){let t="";for(let s in e)t+=s+ds(e[s]);return t}return e},Xr=(e,t,s,r,n)=>{let i=ds(e),o=z[i]||(z[i]=(d=>{let c=0,u=11;for(;c<d.length;)u=101*u+d.charCodeAt(c++)>>>0;return"go"+u})(i));if(!z[o]){let d=i!==e?e:(c=>{let u,m,g=[{}];for(;u=Jr.exec(c.replace(Gr,""));)u[4]?g.shift():u[3]?(m=u[3].replace(At," ").trim(),g.unshift(g[0][m]=g[0][m]||{})):g[0][u[1]]=u[2].replace(At," ").trim();return g[0]})(e);z[o]=K(n?{["@keyframes "+o]:d}:d,s?"":"."+o)}let l=s&&z.g?z.g:null;return s&&(z.g=z[o]),((d,c,u,m)=>{m?c.data=c.data.replace(m,d):c.data.indexOf(d)===-1&&(c.data=u?d+c.data:c.data+d)})(z[o],t,r,l),o},Zr=(e,t,s)=>e.reduce((r,n,i)=>{let o=t[i];if(o&&o.call){let l=o(s),d=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=d?"."+d:l&&typeof l=="object"?l.props?"":K(l,""):l===!1?"":l}return r+n+(o??"")},"");function De(e){let t=this||{},s=e.call?e(t.p):e;return Xr(s.unshift?s.raw?Zr(s,[].slice.call(arguments,1),t.p):s.reduce((r,n)=>Object.assign(r,n&&n.call?n(t.p):n),{}):s,Wr(t.target),t.g,t.o,t.k)}let fs,st,rt;De.bind({g:1});let H=De.bind({k:1});function Yr(e,t,s,r){K.p=t,fs=e,st=s,rt=r}function J(e,t){let s=this||{};return function(){let r=arguments;function n(i,o){let l=Object.assign({},i),d=l.className||n.className;s.p=Object.assign({theme:st&&st()},l),s.o=/ *go\d+/.test(d),l.className=De.apply(s,r)+(d?" "+d:"");let c=e;return e[0]&&(c=l.as||e,delete l.as),rt&&c[0]&&rt(l),fs(c,l)}return n}}var en=e=>typeof e=="function",Ae=(e,t)=>en(e)?e(t):e,tn=(()=>{let e=0;return()=>(++e).toString()})(),hs=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),sn=20,ut="default",ms=(e,t)=>{let{toastLimit:s}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,s)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:r}=t;return ms(e,{type:e.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(o=>o.id===n||n===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},Se=[],ps={toasts:[],pausedAt:void 0,settings:{toastLimit:sn}},q={},ys=(e,t=ut)=>{q[t]=ms(q[t]||ps,e),Se.forEach(([s,r])=>{s===t&&r(q[t])})},gs=e=>Object.keys(q).forEach(t=>ys(e,t)),rn=e=>Object.keys(q).find(t=>q[t].toasts.some(s=>s.id===e)),Ie=(e=ut)=>t=>{ys(t,e)},nn={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},on=(e={},t=ut)=>{let[s,r]=b.useState(q[t]||ps),n=b.useRef(q[t]);b.useEffect(()=>(n.current!==q[t]&&r(q[t]),Se.push([t,r]),()=>{let o=Se.findIndex(([l])=>l===t);o>-1&&Se.splice(o,1)}),[t]);let i=s.toasts.map(o=>{var l,d,c;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((l=e[o.type])==null?void 0:l.removeDelay)||e?.removeDelay,duration:o.duration||((d=e[o.type])==null?void 0:d.duration)||e?.duration||nn[o.type],style:{...e.style,...(c=e[o.type])==null?void 0:c.style,...o.style}}});return{...s,toasts:i}},an=(e,t="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...s,id:s?.id||tn()}),he=e=>(t,s)=>{let r=an(t,e,s);return Ie(r.toasterId||rn(r.id))({type:2,toast:r}),r.id},R=(e,t)=>he("blank")(e,t);R.error=he("error");R.success=he("success");R.loading=he("loading");R.custom=he("custom");R.dismiss=(e,t)=>{let s={type:3,toastId:e};t?Ie(t)(s):gs(s)};R.dismissAll=e=>R.dismiss(void 0,e);R.remove=(e,t)=>{let s={type:4,toastId:e};t?Ie(t)(s):gs(s)};R.removeAll=e=>R.remove(void 0,e);R.promise=(e,t,s)=>{let r=R.loading(t.loading,{...s,...s?.loading});return typeof e=="function"&&(e=e()),e.then(n=>{let i=t.success?Ae(t.success,n):void 0;return i?R.success(i,{id:r,...s,...s?.success}):R.dismiss(r),n}).catch(n=>{let i=t.error?Ae(t.error,n):void 0;i?R.error(i,{id:r,...s,...s?.error}):R.dismiss(r)}),e};var ln=1e3,cn=(e,t="default")=>{let{toasts:s,pausedAt:r}=on(e,t),n=b.useRef(new Map).current,i=b.useCallback((m,g=ln)=>{if(n.has(m))return;let x=setTimeout(()=>{n.delete(m),o({type:4,toastId:m})},g);n.set(m,x)},[]);b.useEffect(()=>{if(r)return;let m=Date.now(),g=s.map(x=>{if(x.duration===1/0)return;let h=(x.duration||0)+x.pauseDuration-(m-x.createdAt);if(h<0){x.visible&&R.dismiss(x.id);return}return setTimeout(()=>R.dismiss(x.id,t),h)});return()=>{g.forEach(x=>x&&clearTimeout(x))}},[s,r,t]);let o=b.useCallback(Ie(t),[t]),l=b.useCallback(()=>{o({type:5,time:Date.now()})},[o]),d=b.useCallback((m,g)=>{o({type:1,toast:{id:m,height:g}})},[o]),c=b.useCallback(()=>{r&&o({type:6,time:Date.now()})},[r,o]),u=b.useCallback((m,g)=>{let{reverseOrder:x=!1,gutter:h=8,defaultPosition:y}=g||{},p=s.filter(j=>(j.position||y)===(m.position||y)&&j.height),w=p.findIndex(j=>j.id===m.id),v=p.filter((j,k)=>k<w&&j.visible).length;return p.filter(j=>j.visible).slice(...x?[v+1]:[0,v]).reduce((j,k)=>j+(k.height||0)+h,0)},[s]);return b.useEffect(()=>{s.forEach(m=>{if(m.dismissed)i(m.id,m.removeDelay);else{let g=n.get(m.id);g&&(clearTimeout(g),n.delete(m.id))}})},[s,i]),{toasts:s,handlers:{updateHeight:d,startPause:l,endPause:c,calculateOffset:u}}},un=H`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,dn=H`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,fn=H`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,hn=J("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${un} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${dn} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${fn} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,mn=H`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,pn=J("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${mn} 1s linear infinite;
`,yn=H`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,gn=H`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,bn=J("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${yn} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${gn} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,xn=J("div")`
  position: absolute;
`,vn=J("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,wn=H`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,jn=J("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${wn} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,En=({toast:e})=>{let{icon:t,type:s,iconTheme:r}=e;return t!==void 0?typeof t=="string"?b.createElement(jn,null,t):t:s==="blank"?null:b.createElement(vn,null,b.createElement(pn,{...r}),s!=="loading"&&b.createElement(xn,null,s==="error"?b.createElement(hn,{...r}):b.createElement(bn,{...r})))},Sn=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,On=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,kn="0%{opacity:0;} 100%{opacity:1;}",_n="0%{opacity:1;} 100%{opacity:0;}",Rn=J("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Pn=J("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,An=(e,t)=>{let s=e.includes("top")?1:-1,[r,n]=hs()?[kn,_n]:[Sn(s),On(s)];return{animation:t?`${H(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${H(n)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Tn=b.memo(({toast:e,position:t,style:s,children:r})=>{let n=e.height?An(e.position||t||"top-center",e.visible):{opacity:0},i=b.createElement(En,{toast:e}),o=b.createElement(Pn,{...e.ariaProps},Ae(e.message,e));return b.createElement(Rn,{className:e.className,style:{...n,...s,...e.style}},typeof r=="function"?r({icon:i,message:o}):b.createElement(b.Fragment,null,i,o))});Yr(b.createElement);var Nn=({id:e,className:t,style:s,onHeightUpdate:r,children:n})=>{let i=b.useCallback(o=>{if(o){let l=()=>{let d=o.getBoundingClientRect().height;r(e,d)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return b.createElement("div",{ref:i,className:t,style:s},n)},Cn=(e,t)=>{let s=e.includes("top"),r=s?{top:0}:{bottom:0},n=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:hs()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(s?1:-1)}px)`,...r,...n}},Ln=De`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,je=16,Fn=({reverseOrder:e,position:t="top-center",toastOptions:s,gutter:r,children:n,toasterId:i,containerStyle:o,containerClassName:l})=>{let{toasts:d,handlers:c}=cn(s,i);return b.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:je,left:je,right:je,bottom:je,pointerEvents:"none",...o},className:l,onMouseEnter:c.startPause,onMouseLeave:c.endPause},d.map(u=>{let m=u.position||t,g=c.calculateOffset(u,{reverseOrder:e,gutter:r,defaultPosition:t}),x=Cn(m,g);return b.createElement(Nn,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?Ln:"",style:x},u.type==="custom"?Ae(u.message,u):n?n(u):b.createElement(Tn,{toast:u,position:m}))}))},za=R;const Dn="modulepreload",In=function(e){return"/"+e},Tt={},O=function(t,s,r){let n=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");n=Promise.allSettled(s.map(d=>{if(d=In(d),d in Tt)return;Tt[d]=!0;const c=d.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${u}`))return;const m=document.createElement("link");if(m.rel=c?"stylesheet":Dn,c||(m.as="script"),m.crossOrigin="",m.href=d,l&&m.setAttribute("nonce",l),document.head.appendChild(m),c)return new Promise((g,x)=>{m.addEventListener("load",g),m.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return n.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},Un={},Nt=e=>{let t;const s=new Set,r=(u,m)=>{const g=typeof u=="function"?u(t):u;if(!Object.is(g,t)){const x=t;t=m??(typeof g!="object"||g===null)?g:Object.assign({},t,g),s.forEach(h=>h(t,x))}},n=()=>t,d={setState:r,getState:n,getInitialState:()=>c,subscribe:u=>(s.add(u),()=>s.delete(u)),destroy:()=>{(Un?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}},c=t=e(r,n,d);return d},Mn=e=>e?Nt(e):Nt;var bs={exports:{}},xs={},vs={exports:{}},ws={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ne=b;function Bn(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qn=typeof Object.is=="function"?Object.is:Bn,$n=ne.useState,zn=ne.useEffect,Hn=ne.useLayoutEffect,Qn=ne.useDebugValue;function Vn(e,t){var s=t(),r=$n({inst:{value:s,getSnapshot:t}}),n=r[0].inst,i=r[1];return Hn(function(){n.value=s,n.getSnapshot=t,Ke(n)&&i({inst:n})},[e,s,t]),zn(function(){return Ke(n)&&i({inst:n}),e(function(){Ke(n)&&i({inst:n})})},[e]),Qn(s),s}function Ke(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!qn(e,s)}catch{return!0}}function Kn(e,t){return t()}var Wn=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Kn:Vn;ws.useSyncExternalStore=ne.useSyncExternalStore!==void 0?ne.useSyncExternalStore:Wn;vs.exports=ws;var Jn=vs.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ue=b,Gn=Jn;function Xn(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Zn=typeof Object.is=="function"?Object.is:Xn,Yn=Gn.useSyncExternalStore,ei=Ue.useRef,ti=Ue.useEffect,si=Ue.useMemo,ri=Ue.useDebugValue;xs.useSyncExternalStoreWithSelector=function(e,t,s,r,n){var i=ei(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=si(function(){function d(x){if(!c){if(c=!0,u=x,x=r(x),n!==void 0&&o.hasValue){var h=o.value;if(n(h,x))return m=h}return m=x}if(h=m,Zn(u,x))return h;var y=r(x);return n!==void 0&&n(h,y)?(u=x,h):(u=x,m=y)}var c=!1,u,m,g=s===void 0?null:s;return[function(){return d(t())},g===null?void 0:function(){return d(g())}]},[t,s,r,n]);var l=Yn(e,i[0],i[1]);return ti(function(){o.hasValue=!0,o.value=l},[l]),ri(l),l};bs.exports=xs;var ni=bs.exports;const ii=sr(ni),js={},{useDebugValue:oi}=Xt,{useSyncExternalStoreWithSelector:ai}=ii;let Ct=!1;const li=e=>e;function ci(e,t=li,s){(js?"production":void 0)!=="production"&&s&&!Ct&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Ct=!0);const r=ai(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,s);return oi(r),r}const ui=e=>{(js?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Mn(e):e,s=(r,n)=>ci(t,r,n);return Object.assign(s,t),s},Es=e=>ui,di={};function Ss(e,t){let s;try{s=e()}catch{return}return{getItem:n=>{var i;const o=d=>d===null?null:JSON.parse(d,void 0),l=(i=s.getItem(n))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(n,i)=>s.setItem(n,JSON.stringify(i,void 0)),removeItem:n=>s.removeItem(n)}}const fe=e=>t=>{try{const s=e(t);return s instanceof Promise?s:{then(r){return fe(r)(s)},catch(r){return this}}}catch(s){return{then(r){return this},catch(r){return fe(r)(s)}}}},fi=(e,t)=>(s,r,n)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:p=>p,version:0,merge:(p,w)=>({...w,...p}),...t},o=!1;const l=new Set,d=new Set;let c;try{c=i.getStorage()}catch{}if(!c)return e((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),s(...p)},r,n);const u=fe(i.serialize),m=()=>{const p=i.partialize({...r()});let w;const v=u({state:p,version:i.version}).then(j=>c.setItem(i.name,j)).catch(j=>{w=j});if(w)throw w;return v},g=n.setState;n.setState=(p,w)=>{g(p,w),m()};const x=e((...p)=>{s(...p),m()},r,n);let h;const y=()=>{var p;if(!c)return;o=!1,l.forEach(v=>v(r()));const w=((p=i.onRehydrateStorage)==null?void 0:p.call(i,r()))||void 0;return fe(c.getItem.bind(c))(i.name).then(v=>{if(v)return i.deserialize(v)}).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==i.version){if(i.migrate)return i.migrate(v.state,v.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return v.state}).then(v=>{var j;return h=i.merge(v,(j=r())!=null?j:x),s(h,!0),m()}).then(()=>{w?.(h,void 0),o=!0,d.forEach(v=>v(h))}).catch(v=>{w?.(void 0,v)})};return n.persist={setOptions:p=>{i={...i,...p},p.getStorage&&(c=p.getStorage())},clearStorage:()=>{c?.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>y(),hasHydrated:()=>o,onHydrate:p=>(l.add(p),()=>{l.delete(p)}),onFinishHydration:p=>(d.add(p),()=>{d.delete(p)})},y(),h||x},hi=(e,t)=>(s,r,n)=>{let i={storage:Ss(()=>localStorage),partialize:y=>y,version:0,merge:(y,p)=>({...p,...y}),...t},o=!1;const l=new Set,d=new Set;let c=i.storage;if(!c)return e((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),s(...y)},r,n);const u=()=>{const y=i.partialize({...r()});return c.setItem(i.name,{state:y,version:i.version})},m=n.setState;n.setState=(y,p)=>{m(y,p),u()};const g=e((...y)=>{s(...y),u()},r,n);n.getInitialState=()=>g;let x;const h=()=>{var y,p;if(!c)return;o=!1,l.forEach(v=>{var j;return v((j=r())!=null?j:g)});const w=((p=i.onRehydrateStorage)==null?void 0:p.call(i,(y=r())!=null?y:g))||void 0;return fe(c.getItem.bind(c))(i.name).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==i.version){if(i.migrate)return[!0,i.migrate(v.state,v.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,v.state];return[!1,void 0]}).then(v=>{var j;const[k,P]=v;if(x=i.merge(P,(j=r())!=null?j:g),s(x,!0),k)return u()}).then(()=>{w?.(x,void 0),x=r(),o=!0,d.forEach(v=>v(x))}).catch(v=>{w?.(void 0,v)})};return n.persist={setOptions:y=>{i={...i,...y},y.storage&&(c=y.storage)},clearStorage:()=>{c?.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>h(),hasHydrated:()=>o,onHydrate:y=>(l.add(y),()=>{l.delete(y)}),onFinishHydration:y=>(d.add(y),()=>{d.delete(y)})},i.skipHydration||h(),x||g},mi=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((di?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),fi(e,t)):hi(e,t),Os=mi,G=Es()(Os(e=>({user:null,accessToken:null,refreshToken:null,isHydrated:!1,setSession:({user:t,accessToken:s,refreshToken:r})=>e({user:t,accessToken:s,refreshToken:r}),setTokens:({accessToken:t,refreshToken:s})=>e(r=>({accessToken:t,refreshToken:s??r.refreshToken})),setUser:t=>e({user:t}),clearSession:()=>e({user:null,accessToken:null,refreshToken:null}),markHydrated:()=>e({isHydrated:!0})}),{name:"elibrary-auth-v2",storage:Ss(()=>localStorage),partialize:e=>({user:e.user,accessToken:e.accessToken,refreshToken:e.refreshToken}),onRehydrateStorage:()=>e=>{e?.markHydrated()}})),pi=Es()(Os(e=>({theme:"dark",toggleTheme:()=>e(t=>{const s=t.theme==="light"?"dark":"light";return s==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),{theme:s}}),setTheme:t=>e(()=>(t==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),{theme:t}))}),{name:"theme-storage",onRehydrateStorage:()=>e=>{e&&(e.theme==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"))}})),Me=()=>{const{theme:e,toggleTheme:t}=pi();return a.jsx("button",{onClick:t,className:"rounded-lg border border-white/10 bg-white/5 p-2 text-slate-400 hover:bg-white/10 hover:text-white dark:border-slate-700 dark:bg-slate-800 dark:text-slate-400 dark:hover:bg-slate-700 dark:hover:text-white","aria-label":"Toggle theme",children:e==="light"?a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:a.jsx("path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"})}):a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("circle",{cx:"12",cy:"12",r:"4"}),a.jsx("path",{d:"M12 2v2"}),a.jsx("path",{d:"M12 20v2"}),a.jsx("path",{d:"m4.93 4.93 1.41 1.41"}),a.jsx("path",{d:"m17.66 17.66 1.41 1.41"}),a.jsx("path",{d:"M2 12h2"}),a.jsx("path",{d:"M20 12h2"}),a.jsx("path",{d:"m6.34 17.66-1.41 1.41"}),a.jsx("path",{d:"m19.07 4.93-1.41 1.41"})]})})};function ks(e,t){return function(){return e.apply(t,arguments)}}const{toString:yi}=Object.prototype,{getPrototypeOf:dt}=Object,{iterator:Be,toStringTag:_s}=Symbol,qe=(e=>t=>{const s=yi.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),I=e=>(e=e.toLowerCase(),t=>qe(t)===e),$e=e=>t=>typeof t===e,{isArray:oe}=Array,ie=$e("undefined");function me(e){return e!==null&&!ie(e)&&e.constructor!==null&&!ie(e.constructor)&&C(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Rs=I("ArrayBuffer");function gi(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Rs(e.buffer),t}const bi=$e("string"),C=$e("function"),Ps=$e("number"),pe=e=>e!==null&&typeof e=="object",xi=e=>e===!0||e===!1,Oe=e=>{if(qe(e)!=="object")return!1;const t=dt(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(_s in e)&&!(Be in e)},vi=e=>{if(!pe(e)||me(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},wi=I("Date"),ji=I("File"),Ei=I("Blob"),Si=I("FileList"),Oi=e=>pe(e)&&C(e.pipe),ki=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||C(e.append)&&((t=qe(e))==="formdata"||t==="object"&&C(e.toString)&&e.toString()==="[object FormData]"))},_i=I("URLSearchParams"),[Ri,Pi,Ai,Ti]=["ReadableStream","Request","Response","Headers"].map(I),Ni=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ye(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let r,n;if(typeof e!="object"&&(e=[e]),oe(e))for(r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else{if(me(e))return;const i=s?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(r=0;r<o;r++)l=i[r],t.call(null,e[l],l,e)}}function As(e,t){if(me(e))return null;t=t.toLowerCase();const s=Object.keys(e);let r=s.length,n;for(;r-- >0;)if(n=s[r],t===n.toLowerCase())return n;return null}const Y=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Ts=e=>!ie(e)&&e!==Y;function nt(){const{caseless:e,skipUndefined:t}=Ts(this)&&this||{},s={},r=(n,i)=>{const o=e&&As(s,i)||i;Oe(s[o])&&Oe(n)?s[o]=nt(s[o],n):Oe(n)?s[o]=nt({},n):oe(n)?s[o]=n.slice():(!t||!ie(n))&&(s[o]=n)};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&ye(arguments[n],r);return s}const Ci=(e,t,s,{allOwnKeys:r}={})=>(ye(t,(n,i)=>{s&&C(n)?e[i]=ks(n,s):e[i]=n},{allOwnKeys:r}),e),Li=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Fi=(e,t,s,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},Di=(e,t,s,r)=>{let n,i,o;const l={};if(t=t||{},e==null)return t;do{for(n=Object.getOwnPropertyNames(e),i=n.length;i-- >0;)o=n[i],(!r||r(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=s!==!1&&dt(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},Ii=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const r=e.indexOf(t,s);return r!==-1&&r===s},Ui=e=>{if(!e)return null;if(oe(e))return e;let t=e.length;if(!Ps(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},Mi=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&dt(Uint8Array)),Bi=(e,t)=>{const r=(e&&e[Be]).call(e);let n;for(;(n=r.next())&&!n.done;){const i=n.value;t.call(e,i[0],i[1])}},qi=(e,t)=>{let s;const r=[];for(;(s=e.exec(t))!==null;)r.push(s);return r},$i=I("HTMLFormElement"),zi=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,r,n){return r.toUpperCase()+n}),Lt=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),Hi=I("RegExp"),Ns=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),r={};ye(s,(n,i)=>{let o;(o=t(n,i,e))!==!1&&(r[i]=o||n)}),Object.defineProperties(e,r)},Qi=e=>{Ns(e,(t,s)=>{if(C(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const r=e[s];if(C(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},Vi=(e,t)=>{const s={},r=n=>{n.forEach(i=>{s[i]=!0})};return oe(e)?r(e):r(String(e).split(t)),s},Ki=()=>{},Wi=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Ji(e){return!!(e&&C(e.append)&&e[_s]==="FormData"&&e[Be])}const Gi=e=>{const t=new Array(10),s=(r,n)=>{if(pe(r)){if(t.indexOf(r)>=0)return;if(me(r))return r;if(!("toJSON"in r)){t[n]=r;const i=oe(r)?[]:{};return ye(r,(o,l)=>{const d=s(o,n+1);!ie(d)&&(i[l]=d)}),t[n]=void 0,i}}return r};return s(e,0)},Xi=I("AsyncFunction"),Zi=e=>e&&(pe(e)||C(e))&&C(e.then)&&C(e.catch),Cs=((e,t)=>e?setImmediate:t?((s,r)=>(Y.addEventListener("message",({source:n,data:i})=>{n===Y&&i===s&&r.length&&r.shift()()},!1),n=>{r.push(n),Y.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",C(Y.postMessage)),Yi=typeof queueMicrotask<"u"?queueMicrotask.bind(Y):typeof process<"u"&&process.nextTick||Cs,eo=e=>e!=null&&C(e[Be]),f={isArray:oe,isArrayBuffer:Rs,isBuffer:me,isFormData:ki,isArrayBufferView:gi,isString:bi,isNumber:Ps,isBoolean:xi,isObject:pe,isPlainObject:Oe,isEmptyObject:vi,isReadableStream:Ri,isRequest:Pi,isResponse:Ai,isHeaders:Ti,isUndefined:ie,isDate:wi,isFile:ji,isBlob:Ei,isRegExp:Hi,isFunction:C,isStream:Oi,isURLSearchParams:_i,isTypedArray:Mi,isFileList:Si,forEach:ye,merge:nt,extend:Ci,trim:Ni,stripBOM:Li,inherits:Fi,toFlatObject:Di,kindOf:qe,kindOfTest:I,endsWith:Ii,toArray:Ui,forEachEntry:Bi,matchAll:qi,isHTMLForm:$i,hasOwnProperty:Lt,hasOwnProp:Lt,reduceDescriptors:Ns,freezeMethods:Qi,toObjectSet:Vi,toCamelCase:zi,noop:Ki,toFiniteNumber:Wi,findKey:As,global:Y,isContextDefined:Ts,isSpecCompliantForm:Ji,toJSONObject:Gi,isAsyncFn:Xi,isThenable:Zi,setImmediate:Cs,asap:Yi,isIterable:eo};function E(e,t,s,r,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),r&&(this.request=r),n&&(this.response=n,this.status=n.status?n.status:null)}f.inherits(E,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:f.toJSONObject(this.config),code:this.code,status:this.status}}});const Ls=E.prototype,Fs={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Fs[e]={value:e}});Object.defineProperties(E,Fs);Object.defineProperty(Ls,"isAxiosError",{value:!0});E.from=(e,t,s,r,n,i)=>{const o=Object.create(Ls);f.toFlatObject(e,o,function(u){return u!==Error.prototype},c=>c!=="isAxiosError");const l=e&&e.message?e.message:"Error",d=t==null&&e?e.code:t;return E.call(o,l,d,s,r,n),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const to=null;function it(e){return f.isPlainObject(e)||f.isArray(e)}function Ds(e){return f.endsWith(e,"[]")?e.slice(0,-2):e}function Ft(e,t,s){return e?e.concat(t).map(function(n,i){return n=Ds(n),!s&&i?"["+n+"]":n}).join(s?".":""):t}function so(e){return f.isArray(e)&&!e.some(it)}const ro=f.toFlatObject(f,{},null,function(t){return/^is[A-Z]/.test(t)});function ze(e,t,s){if(!f.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=f.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,p){return!f.isUndefined(p[y])});const r=s.metaTokens,n=s.visitor||u,i=s.dots,o=s.indexes,d=(s.Blob||typeof Blob<"u"&&Blob)&&f.isSpecCompliantForm(t);if(!f.isFunction(n))throw new TypeError("visitor must be a function");function c(h){if(h===null)return"";if(f.isDate(h))return h.toISOString();if(f.isBoolean(h))return h.toString();if(!d&&f.isBlob(h))throw new E("Blob is not supported. Use a Buffer instead.");return f.isArrayBuffer(h)||f.isTypedArray(h)?d&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function u(h,y,p){let w=h;if(h&&!p&&typeof h=="object"){if(f.endsWith(y,"{}"))y=r?y:y.slice(0,-2),h=JSON.stringify(h);else if(f.isArray(h)&&so(h)||(f.isFileList(h)||f.endsWith(y,"[]"))&&(w=f.toArray(h)))return y=Ds(y),w.forEach(function(j,k){!(f.isUndefined(j)||j===null)&&t.append(o===!0?Ft([y],k,i):o===null?y:y+"[]",c(j))}),!1}return it(h)?!0:(t.append(Ft(p,y,i),c(h)),!1)}const m=[],g=Object.assign(ro,{defaultVisitor:u,convertValue:c,isVisitable:it});function x(h,y){if(!f.isUndefined(h)){if(m.indexOf(h)!==-1)throw Error("Circular reference detected in "+y.join("."));m.push(h),f.forEach(h,function(w,v){(!(f.isUndefined(w)||w===null)&&n.call(t,w,f.isString(v)?v.trim():v,y,g))===!0&&x(w,y?y.concat(v):[v])}),m.pop()}}if(!f.isObject(e))throw new TypeError("data must be an object");return x(e),t}function Dt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function ft(e,t){this._pairs=[],e&&ze(e,this,t)}const Is=ft.prototype;Is.append=function(t,s){this._pairs.push([t,s])};Is.toString=function(t){const s=t?function(r){return t.call(this,r,Dt)}:Dt;return this._pairs.map(function(n){return s(n[0])+"="+s(n[1])},"").join("&")};function no(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Us(e,t,s){if(!t)return e;const r=s&&s.encode||no;f.isFunction(s)&&(s={serialize:s});const n=s&&s.serialize;let i;if(n?i=n(t,s):i=f.isURLSearchParams(t)?t.toString():new ft(t,s).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class It{constructor(){this.handlers=[]}use(t,s,r){return this.handlers.push({fulfilled:t,rejected:s,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){f.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Ms={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},io=typeof URLSearchParams<"u"?URLSearchParams:ft,oo=typeof FormData<"u"?FormData:null,ao=typeof Blob<"u"?Blob:null,lo={isBrowser:!0,classes:{URLSearchParams:io,FormData:oo,Blob:ao},protocols:["http","https","file","blob","url","data"]},ht=typeof window<"u"&&typeof document<"u",ot=typeof navigator=="object"&&navigator||void 0,co=ht&&(!ot||["ReactNative","NativeScript","NS"].indexOf(ot.product)<0),uo=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",fo=ht&&window.location.href||"http://localhost",ho=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ht,hasStandardBrowserEnv:co,hasStandardBrowserWebWorkerEnv:uo,navigator:ot,origin:fo},Symbol.toStringTag,{value:"Module"})),A={...ho,...lo};function mo(e,t){return ze(e,new A.classes.URLSearchParams,{visitor:function(s,r,n,i){return A.isNode&&f.isBuffer(s)?(this.append(r,s.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function po(e){return f.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function yo(e){const t={},s=Object.keys(e);let r;const n=s.length;let i;for(r=0;r<n;r++)i=s[r],t[i]=e[i];return t}function Bs(e){function t(s,r,n,i){let o=s[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),d=i>=s.length;return o=!o&&f.isArray(n)?n.length:o,d?(f.hasOwnProp(n,o)?n[o]=[n[o],r]:n[o]=r,!l):((!n[o]||!f.isObject(n[o]))&&(n[o]=[]),t(s,r,n[o],i)&&f.isArray(n[o])&&(n[o]=yo(n[o])),!l)}if(f.isFormData(e)&&f.isFunction(e.entries)){const s={};return f.forEachEntry(e,(r,n)=>{t(po(r),n,s,0)}),s}return null}function go(e,t,s){if(f.isString(e))try{return(t||JSON.parse)(e),f.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(s||JSON.stringify)(e)}const ge={transitional:Ms,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const r=s.getContentType()||"",n=r.indexOf("application/json")>-1,i=f.isObject(t);if(i&&f.isHTMLForm(t)&&(t=new FormData(t)),f.isFormData(t))return n?JSON.stringify(Bs(t)):t;if(f.isArrayBuffer(t)||f.isBuffer(t)||f.isStream(t)||f.isFile(t)||f.isBlob(t)||f.isReadableStream(t))return t;if(f.isArrayBufferView(t))return t.buffer;if(f.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return mo(t,this.formSerializer).toString();if((l=f.isFileList(t))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return ze(l?{"files[]":t}:t,d&&new d,this.formSerializer)}}return i||n?(s.setContentType("application/json",!1),go(t)):t}],transformResponse:[function(t){const s=this.transitional||ge.transitional,r=s&&s.forcedJSONParsing,n=this.responseType==="json";if(f.isResponse(t)||f.isReadableStream(t))return t;if(t&&f.isString(t)&&(r&&!this.responseType||n)){const o=!(s&&s.silentJSONParsing)&&n;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?E.from(l,E.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:A.classes.FormData,Blob:A.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};f.forEach(["delete","get","head","post","put","patch"],e=>{ge.headers[e]={}});const bo=f.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),xo=e=>{const t={};let s,r,n;return e&&e.split(`
`).forEach(function(o){n=o.indexOf(":"),s=o.substring(0,n).trim().toLowerCase(),r=o.substring(n+1).trim(),!(!s||t[s]&&bo[s])&&(s==="set-cookie"?t[s]?t[s].push(r):t[s]=[r]:t[s]=t[s]?t[s]+", "+r:r)}),t},Ut=Symbol("internals");function ce(e){return e&&String(e).trim().toLowerCase()}function ke(e){return e===!1||e==null?e:f.isArray(e)?e.map(ke):String(e)}function vo(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=s.exec(e);)t[r[1]]=r[2];return t}const wo=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function We(e,t,s,r,n){if(f.isFunction(r))return r.call(this,t,s);if(n&&(t=s),!!f.isString(t)){if(f.isString(r))return t.indexOf(r)!==-1;if(f.isRegExp(r))return r.test(t)}}function jo(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,r)=>s.toUpperCase()+r)}function Eo(e,t){const s=f.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+s,{value:function(n,i,o){return this[r].call(this,t,n,i,o)},configurable:!0})})}let L=class{constructor(t){t&&this.set(t)}set(t,s,r){const n=this;function i(l,d,c){const u=ce(d);if(!u)throw new Error("header name must be a non-empty string");const m=f.findKey(n,u);(!m||n[m]===void 0||c===!0||c===void 0&&n[m]!==!1)&&(n[m||d]=ke(l))}const o=(l,d)=>f.forEach(l,(c,u)=>i(c,u,d));if(f.isPlainObject(t)||t instanceof this.constructor)o(t,s);else if(f.isString(t)&&(t=t.trim())&&!wo(t))o(xo(t),s);else if(f.isObject(t)&&f.isIterable(t)){let l={},d,c;for(const u of t){if(!f.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[c=u[0]]=(d=l[c])?f.isArray(d)?[...d,u[1]]:[d,u[1]]:u[1]}o(l,s)}else t!=null&&i(s,t,r);return this}get(t,s){if(t=ce(t),t){const r=f.findKey(this,t);if(r){const n=this[r];if(!s)return n;if(s===!0)return vo(n);if(f.isFunction(s))return s.call(this,n,r);if(f.isRegExp(s))return s.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=ce(t),t){const r=f.findKey(this,t);return!!(r&&this[r]!==void 0&&(!s||We(this,this[r],r,s)))}return!1}delete(t,s){const r=this;let n=!1;function i(o){if(o=ce(o),o){const l=f.findKey(r,o);l&&(!s||We(r,r[l],l,s))&&(delete r[l],n=!0)}}return f.isArray(t)?t.forEach(i):i(t),n}clear(t){const s=Object.keys(this);let r=s.length,n=!1;for(;r--;){const i=s[r];(!t||We(this,this[i],i,t,!0))&&(delete this[i],n=!0)}return n}normalize(t){const s=this,r={};return f.forEach(this,(n,i)=>{const o=f.findKey(r,i);if(o){s[o]=ke(n),delete s[i];return}const l=t?jo(i):String(i).trim();l!==i&&delete s[i],s[l]=ke(n),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return f.forEach(this,(r,n)=>{r!=null&&r!==!1&&(s[n]=t&&f.isArray(r)?r.join(", "):r)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const r=new this(t);return s.forEach(n=>r.set(n)),r}static accessor(t){const r=(this[Ut]=this[Ut]={accessors:{}}).accessors,n=this.prototype;function i(o){const l=ce(o);r[l]||(Eo(n,o),r[l]=!0)}return f.isArray(t)?t.forEach(i):i(t),this}};L.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);f.reduceDescriptors(L.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[s]=r}}});f.freezeMethods(L);function Je(e,t){const s=this||ge,r=t||s,n=L.from(r.headers);let i=r.data;return f.forEach(e,function(l){i=l.call(s,i,n.normalize(),t?t.status:void 0)}),n.normalize(),i}function qs(e){return!!(e&&e.__CANCEL__)}function ae(e,t,s){E.call(this,e??"canceled",E.ERR_CANCELED,t,s),this.name="CanceledError"}f.inherits(ae,E,{__CANCEL__:!0});function $s(e,t,s){const r=s.config.validateStatus;!s.status||!r||r(s.status)?e(s):t(new E("Request failed with status code "+s.status,[E.ERR_BAD_REQUEST,E.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function So(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Oo(e,t){e=e||10;const s=new Array(e),r=new Array(e);let n=0,i=0,o;return t=t!==void 0?t:1e3,function(d){const c=Date.now(),u=r[i];o||(o=c),s[n]=d,r[n]=c;let m=i,g=0;for(;m!==n;)g+=s[m++],m=m%e;if(n=(n+1)%e,n===i&&(i=(i+1)%e),c-o<t)return;const x=u&&c-u;return x?Math.round(g*1e3/x):void 0}}function ko(e,t){let s=0,r=1e3/t,n,i;const o=(c,u=Date.now())=>{s=u,n=null,i&&(clearTimeout(i),i=null),e(...c)};return[(...c)=>{const u=Date.now(),m=u-s;m>=r?o(c,u):(n=c,i||(i=setTimeout(()=>{i=null,o(n)},r-m)))},()=>n&&o(n)]}const Te=(e,t,s=3)=>{let r=0;const n=Oo(50,250);return ko(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,d=o-r,c=n(d),u=o<=l;r=o;const m={loaded:o,total:l,progress:l?o/l:void 0,bytes:d,rate:c||void 0,estimated:c&&l&&u?(l-o)/c:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(m)},s)},Mt=(e,t)=>{const s=e!=null;return[r=>t[0]({lengthComputable:s,total:e,loaded:r}),t[1]]},Bt=e=>(...t)=>f.asap(()=>e(...t)),_o=A.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,A.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(A.origin),A.navigator&&/(msie|trident)/i.test(A.navigator.userAgent)):()=>!0,Ro=A.hasStandardBrowserEnv?{write(e,t,s,r,n,i,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];f.isNumber(s)&&l.push(`expires=${new Date(s).toUTCString()}`),f.isString(r)&&l.push(`path=${r}`),f.isString(n)&&l.push(`domain=${n}`),i===!0&&l.push("secure"),f.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Po(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Ao(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function zs(e,t,s){let r=!Po(t);return e&&(r||s==!1)?Ao(e,t):t}const qt=e=>e instanceof L?{...e}:e;function te(e,t){t=t||{};const s={};function r(c,u,m,g){return f.isPlainObject(c)&&f.isPlainObject(u)?f.merge.call({caseless:g},c,u):f.isPlainObject(u)?f.merge({},u):f.isArray(u)?u.slice():u}function n(c,u,m,g){if(f.isUndefined(u)){if(!f.isUndefined(c))return r(void 0,c,m,g)}else return r(c,u,m,g)}function i(c,u){if(!f.isUndefined(u))return r(void 0,u)}function o(c,u){if(f.isUndefined(u)){if(!f.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function l(c,u,m){if(m in t)return r(c,u);if(m in e)return r(void 0,c)}const d={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(c,u,m)=>n(qt(c),qt(u),m,!0)};return f.forEach(Object.keys({...e,...t}),function(u){const m=d[u]||n,g=m(e[u],t[u],u);f.isUndefined(g)&&m!==l||(s[u]=g)}),s}const Hs=e=>{const t=te({},e);let{data:s,withXSRFToken:r,xsrfHeaderName:n,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=L.from(o),t.url=Us(zs(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),f.isFormData(s)){if(A.hasStandardBrowserEnv||A.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(f.isFunction(s.getHeaders)){const d=s.getHeaders(),c=["content-type","content-length"];Object.entries(d).forEach(([u,m])=>{c.includes(u.toLowerCase())&&o.set(u,m)})}}if(A.hasStandardBrowserEnv&&(r&&f.isFunction(r)&&(r=r(t)),r||r!==!1&&_o(t.url))){const d=n&&i&&Ro.read(i);d&&o.set(n,d)}return t},To=typeof XMLHttpRequest<"u",No=To&&function(e){return new Promise(function(s,r){const n=Hs(e);let i=n.data;const o=L.from(n.headers).normalize();let{responseType:l,onUploadProgress:d,onDownloadProgress:c}=n,u,m,g,x,h;function y(){x&&x(),h&&h(),n.cancelToken&&n.cancelToken.unsubscribe(u),n.signal&&n.signal.removeEventListener("abort",u)}let p=new XMLHttpRequest;p.open(n.method.toUpperCase(),n.url,!0),p.timeout=n.timeout;function w(){if(!p)return;const j=L.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders()),P={data:!l||l==="text"||l==="json"?p.responseText:p.response,status:p.status,statusText:p.statusText,headers:j,config:e,request:p};$s(function(F){s(F),y()},function(F){r(F),y()},P),p=null}"onloadend"in p?p.onloadend=w:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(w)},p.onabort=function(){p&&(r(new E("Request aborted",E.ECONNABORTED,e,p)),p=null)},p.onerror=function(k){const P=k&&k.message?k.message:"Network Error",U=new E(P,E.ERR_NETWORK,e,p);U.event=k||null,r(U),p=null},p.ontimeout=function(){let k=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const P=n.transitional||Ms;n.timeoutErrorMessage&&(k=n.timeoutErrorMessage),r(new E(k,P.clarifyTimeoutError?E.ETIMEDOUT:E.ECONNABORTED,e,p)),p=null},i===void 0&&o.setContentType(null),"setRequestHeader"in p&&f.forEach(o.toJSON(),function(k,P){p.setRequestHeader(P,k)}),f.isUndefined(n.withCredentials)||(p.withCredentials=!!n.withCredentials),l&&l!=="json"&&(p.responseType=n.responseType),c&&([g,h]=Te(c,!0),p.addEventListener("progress",g)),d&&p.upload&&([m,x]=Te(d),p.upload.addEventListener("progress",m),p.upload.addEventListener("loadend",x)),(n.cancelToken||n.signal)&&(u=j=>{p&&(r(!j||j.type?new ae(null,e,p):j),p.abort(),p=null)},n.cancelToken&&n.cancelToken.subscribe(u),n.signal&&(n.signal.aborted?u():n.signal.addEventListener("abort",u)));const v=So(n.url);if(v&&A.protocols.indexOf(v)===-1){r(new E("Unsupported protocol "+v+":",E.ERR_BAD_REQUEST,e));return}p.send(i||null)})},Co=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let r=new AbortController,n;const i=function(c){if(!n){n=!0,l();const u=c instanceof Error?c:this.reason;r.abort(u instanceof E?u:new ae(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,i(new E(`timeout ${t} of ms exceeded`,E.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),e=null)};e.forEach(c=>c.addEventListener("abort",i));const{signal:d}=r;return d.unsubscribe=()=>f.asap(l),d}},Lo=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let r=0,n;for(;r<s;)n=r+t,yield e.slice(r,n),r=n},Fo=async function*(e,t){for await(const s of Do(e))yield*Lo(s,t)},Do=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:r}=await t.read();if(s)break;yield r}}finally{await t.cancel()}},$t=(e,t,s,r)=>{const n=Fo(e,t);let i=0,o,l=d=>{o||(o=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:c,value:u}=await n.next();if(c){l(),d.close();return}let m=u.byteLength;if(s){let g=i+=m;s(g)}d.enqueue(new Uint8Array(u))}catch(c){throw l(c),c}},cancel(d){return l(d),n.return()}},{highWaterMark:2})},zt=64*1024,{isFunction:Ee}=f,Io=(({Request:e,Response:t})=>({Request:e,Response:t}))(f.global),{ReadableStream:Ht,TextEncoder:Qt}=f.global,Vt=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Uo=e=>{e=f.merge.call({skipUndefined:!0},Io,e);const{fetch:t,Request:s,Response:r}=e,n=t?Ee(t):typeof fetch=="function",i=Ee(s),o=Ee(r);if(!n)return!1;const l=n&&Ee(Ht),d=n&&(typeof Qt=="function"?(h=>y=>h.encode(y))(new Qt):async h=>new Uint8Array(await new s(h).arrayBuffer())),c=i&&l&&Vt(()=>{let h=!1;const y=new s(A.origin,{body:new Ht,method:"POST",get duplex(){return h=!0,"half"}}).headers.has("Content-Type");return h&&!y}),u=o&&l&&Vt(()=>f.isReadableStream(new r("").body)),m={stream:u&&(h=>h.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(h=>{!m[h]&&(m[h]=(y,p)=>{let w=y&&y[h];if(w)return w.call(y);throw new E(`Response type '${h}' is not supported`,E.ERR_NOT_SUPPORT,p)})});const g=async h=>{if(h==null)return 0;if(f.isBlob(h))return h.size;if(f.isSpecCompliantForm(h))return(await new s(A.origin,{method:"POST",body:h}).arrayBuffer()).byteLength;if(f.isArrayBufferView(h)||f.isArrayBuffer(h))return h.byteLength;if(f.isURLSearchParams(h)&&(h=h+""),f.isString(h))return(await d(h)).byteLength},x=async(h,y)=>{const p=f.toFiniteNumber(h.getContentLength());return p??g(y)};return async h=>{let{url:y,method:p,data:w,signal:v,cancelToken:j,timeout:k,onDownloadProgress:P,onUploadProgress:U,responseType:F,headers:Qe,withCredentials:be="same-origin",fetchOptions:pt}=Hs(h),yt=t||fetch;F=F?(F+"").toLowerCase():"text";let xe=Co([v,j&&j.toAbortSignal()],k),le=null;const X=xe&&xe.unsubscribe&&(()=>{xe.unsubscribe()});let gt;try{if(U&&c&&p!=="get"&&p!=="head"&&(gt=await x(Qe,w))!==0){let V=new s(y,{method:"POST",body:w,duplex:"half"}),se;if(f.isFormData(w)&&(se=V.headers.get("content-type"))&&Qe.setContentType(se),V.body){const[Ve,ve]=Mt(gt,Te(Bt(U)));w=$t(V.body,zt,Ve,ve)}}f.isString(be)||(be=be?"include":"omit");const M=i&&"credentials"in s.prototype,bt={...pt,signal:xe,method:p.toUpperCase(),headers:Qe.normalize().toJSON(),body:w,duplex:"half",credentials:M?be:void 0};le=i&&new s(y,bt);let Q=await(i?yt(le,pt):yt(y,bt));const xt=u&&(F==="stream"||F==="response");if(u&&(P||xt&&X)){const V={};["status","statusText","headers"].forEach(vt=>{V[vt]=Q[vt]});const se=f.toFiniteNumber(Q.headers.get("content-length")),[Ve,ve]=P&&Mt(se,Te(Bt(P),!0))||[];Q=new r($t(Q.body,zt,Ve,()=>{ve&&ve(),X&&X()}),V)}F=F||"text";let er=await m[f.findKey(m,F)||"text"](Q,h);return!xt&&X&&X(),await new Promise((V,se)=>{$s(V,se,{data:er,headers:L.from(Q.headers),status:Q.status,statusText:Q.statusText,config:h,request:le})})}catch(M){throw X&&X(),M&&M.name==="TypeError"&&/Load failed|fetch/i.test(M.message)?Object.assign(new E("Network Error",E.ERR_NETWORK,h,le),{cause:M.cause||M}):E.from(M,M&&M.code,h,le)}}},Mo=new Map,Qs=e=>{let t=e&&e.env||{};const{fetch:s,Request:r,Response:n}=t,i=[r,n,s];let o=i.length,l=o,d,c,u=Mo;for(;l--;)d=i[l],c=u.get(d),c===void 0&&u.set(d,c=l?new Map:Uo(t)),u=c;return c};Qs();const mt={http:to,xhr:No,fetch:{get:Qs}};f.forEach(mt,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Kt=e=>`- ${e}`,Bo=e=>f.isFunction(e)||e===null||e===!1;function qo(e,t){e=f.isArray(e)?e:[e];const{length:s}=e;let r,n;const i={};for(let o=0;o<s;o++){r=e[o];let l;if(n=r,!Bo(r)&&(n=mt[(l=String(r)).toLowerCase()],n===void 0))throw new E(`Unknown adapter '${l}'`);if(n&&(f.isFunction(n)||(n=n.get(t))))break;i[l||"#"+o]=n}if(!n){const o=Object.entries(i).map(([d,c])=>`adapter ${d} `+(c===!1?"is not supported by the environment":"is not available in the build"));let l=s?o.length>1?`since :
`+o.map(Kt).join(`
`):" "+Kt(o[0]):"as no adapter specified";throw new E("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n}const Vs={getAdapter:qo,adapters:mt};function Ge(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ae(null,e)}function Wt(e){return Ge(e),e.headers=L.from(e.headers),e.data=Je.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Vs.getAdapter(e.adapter||ge.adapter,e)(e).then(function(r){return Ge(e),r.data=Je.call(e,e.transformResponse,r),r.headers=L.from(r.headers),r},function(r){return qs(r)||(Ge(e),r&&r.response&&(r.response.data=Je.call(e,e.transformResponse,r.response),r.response.headers=L.from(r.response.headers))),Promise.reject(r)})}const Ks="1.13.2",He={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{He[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Jt={};He.transitional=function(t,s,r){function n(i,o){return"[Axios v"+Ks+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,l)=>{if(t===!1)throw new E(n(o," has been removed"+(s?" in "+s:"")),E.ERR_DEPRECATED);return s&&!Jt[o]&&(Jt[o]=!0,console.warn(n(o," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(i,o,l):!0}};He.spelling=function(t){return(s,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function $o(e,t,s){if(typeof e!="object")throw new E("options must be an object",E.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let n=r.length;for(;n-- >0;){const i=r[n],o=t[i];if(o){const l=e[i],d=l===void 0||o(l,i,e);if(d!==!0)throw new E("option "+i+" must be "+d,E.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new E("Unknown option "+i,E.ERR_BAD_OPTION)}}const _e={assertOptions:$o,validators:He},B=_e.validators;let ee=class{constructor(t){this.defaults=t||{},this.interceptors={request:new It,response:new It}}async request(t,s){try{return await this._request(t,s)}catch(r){if(r instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=te(this.defaults,s);const{transitional:r,paramsSerializer:n,headers:i}=s;r!==void 0&&_e.assertOptions(r,{silentJSONParsing:B.transitional(B.boolean),forcedJSONParsing:B.transitional(B.boolean),clarifyTimeoutError:B.transitional(B.boolean)},!1),n!=null&&(f.isFunction(n)?s.paramsSerializer={serialize:n}:_e.assertOptions(n,{encode:B.function,serialize:B.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),_e.assertOptions(s,{baseUrl:B.spelling("baseURL"),withXsrfToken:B.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let o=i&&f.merge(i.common,i[s.method]);i&&f.forEach(["delete","get","head","post","put","patch","common"],h=>{delete i[h]}),s.headers=L.concat(o,i);const l=[];let d=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(s)===!1||(d=d&&y.synchronous,l.unshift(y.fulfilled,y.rejected))});const c=[];this.interceptors.response.forEach(function(y){c.push(y.fulfilled,y.rejected)});let u,m=0,g;if(!d){const h=[Wt.bind(this),void 0];for(h.unshift(...l),h.push(...c),g=h.length,u=Promise.resolve(s);m<g;)u=u.then(h[m++],h[m++]);return u}g=l.length;let x=s;for(;m<g;){const h=l[m++],y=l[m++];try{x=h(x)}catch(p){y.call(this,p);break}}try{u=Wt.call(this,x)}catch(h){return Promise.reject(h)}for(m=0,g=c.length;m<g;)u=u.then(c[m++],c[m++]);return u}getUri(t){t=te(this.defaults,t);const s=zs(t.baseURL,t.url,t.allowAbsoluteUrls);return Us(s,t.params,t.paramsSerializer)}};f.forEach(["delete","get","head","options"],function(t){ee.prototype[t]=function(s,r){return this.request(te(r||{},{method:t,url:s,data:(r||{}).data}))}});f.forEach(["post","put","patch"],function(t){function s(r){return function(i,o,l){return this.request(te(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}ee.prototype[t]=s(),ee.prototype[t+"Form"]=s(!0)});let zo=class Ws{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(i){s=i});const r=this;this.promise.then(n=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](n);r._listeners=null}),this.promise.then=n=>{let i;const o=new Promise(l=>{r.subscribe(l),i=l}).then(n);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,l){r.reason||(r.reason=new ae(i,o,l),s(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=r=>{t.abort(r)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new Ws(function(n){t=n}),cancel:t}}};function Ho(e){return function(s){return e.apply(null,s)}}function Qo(e){return f.isObject(e)&&e.isAxiosError===!0}const at={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(at).forEach(([e,t])=>{at[t]=e});function Js(e){const t=new ee(e),s=ks(ee.prototype.request,t);return f.extend(s,ee.prototype,t,{allOwnKeys:!0}),f.extend(s,t,null,{allOwnKeys:!0}),s.create=function(n){return Js(te(e,n))},s}const _=Js(ge);_.Axios=ee;_.CanceledError=ae;_.CancelToken=zo;_.isCancel=qs;_.VERSION=Ks;_.toFormData=ze;_.AxiosError=E;_.Cancel=_.CanceledError;_.all=function(t){return Promise.all(t)};_.spread=Ho;_.isAxiosError=Qo;_.mergeConfig=te;_.AxiosHeaders=L;_.formToJSON=e=>Bs(f.isHTMLForm(e)?new FormData(e):e);_.getAdapter=Vs.getAdapter;_.HttpStatusCode=at;_.default=_;const{Axios:Va,AxiosError:Ka,CanceledError:Wa,isCancel:Ja,CancelToken:Ga,VERSION:Xa,all:Za,Cancel:Ya,isAxiosError:el,spread:tl,toFormData:sl,AxiosHeaders:rl,HttpStatusCode:nl,formToJSON:il,getAdapter:ol,mergeConfig:al}=_,Gs="http://localhost:8000/api",$=_.create({baseURL:Gs,withCredentials:!0}),Xs=async()=>{const{refreshToken:e,setTokens:t,clearSession:s}=G.getState();if(!e)return s(),null;try{const r=await _.post(`${Gs}/auth/refresh/`,{refresh:e},{withCredentials:!0}),n=r.data?.tokens??r.data;if(!n?.access)throw new Error("Missing access token");return t({accessToken:n.access,refreshToken:n.refresh}),n.access}catch(r){throw _.isAxiosError(r)&&(r.response?.status===401||r.response?.status===403)&&(console.error("Session cleared due to auth error:",r.response?.status,r.response?.data),s()),r}};let W=null;$.interceptors.request.use(e=>{const t=G.getState().accessToken;return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e});$.interceptors.response.use(e=>e,async e=>{const t=e.config;if(e.response?.status===401&&!t._retry){t._retry=!0,W=W??Xs();try{const s=await W;if(s&&t.headers)return t.headers.Authorization=`Bearer ${s}`,$(t)}finally{W=null}}return Promise.reject(e)});const Vo=async()=>{W=W??Xs();try{return await W}finally{W=null}},ll=async e=>{const{data:t}=await $.post("/auth/login/",e);return t},cl=async e=>{const{data:t}=await $.post("/auth/register/",e);return t},Ko=async e=>{e&&await $.post("/auth/logout/",{refresh_token:e})},ul=async e=>{const{data:t}=await $.post("/auth/password-reset/request/",{email:e});return t},dl=async(e,t)=>{const{data:s}=await $.post("/auth/password-reset/verify/",{email:e,code:t});return s},fl=async(e,t,s)=>{const{data:r}=await $.post("/auth/password-reset/complete/",{email:e,code:t,password:s});return r},hl=async e=>{const{data:t}=await $.post("/auth/password-reset/resend/",{email:e});return t},Wo=()=>{const[e,t]=b.useState(!1),s=b.useRef(null),{user:r,clearSession:n,refreshToken:i}=G();b.useEffect(()=>{const l=d=>{s.current&&!s.current.contains(d.target)&&t(!1)};return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[]);const o=async()=>{try{await Ko(i)}finally{n()}};return r?a.jsxs("div",{className:"relative",ref:s,children:[a.jsxs("button",{onClick:()=>t(!e),className:"flex items-center gap-3 rounded-lg p-2 transition hover:bg-slate-100 dark:hover:bg-white/5",children:[r.profile_picture?a.jsx("img",{src:r.profile_picture,alt:r.name,className:"h-10 w-10 rounded-full object-cover"}):a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-brand-500 font-bold text-white",children:r.name?.[0]?.toUpperCase()||r.email?.[0]?.toUpperCase()}),a.jsxs("div",{className:"hidden text-left md:block",children:[a.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white",children:r.name}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:r.email})]}),a.jsx("svg",{className:`h-4 w-4 text-slate-500 transition-transform ${e?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e&&a.jsxs("div",{className:"absolute right-0 z-50 mt-2 w-56 rounded-lg border border-slate-200 bg-white shadow-lg dark:border-white/10 dark:bg-slate-900",children:[a.jsxs("div",{className:"p-3 border-b border-slate-200 dark:border-white/10",children:[a.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white",children:r.name}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:r.email}),a.jsx("p",{className:"mt-1 text-xs text-slate-400 dark:text-slate-500 capitalize",children:r.role.toLowerCase()})]}),a.jsxs("div",{className:"p-2",children:[a.jsxs(re,{to:"/profile",onClick:()=>t(!1),className:"flex items-center gap-2 rounded-md px-3 py-2 text-sm text-slate-700 transition hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-white/5",children:[a.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"My Profile"]}),a.jsxs("button",{onClick:o,className:"flex w-full items-center gap-2 rounded-md px-3 py-2 text-sm text-red-600 transition hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-500/10",children:[a.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Log Out"]})]})]})]}):null},Jo=()=>{const[e,t]=b.useState(!1),s=b.useRef(null),{user:r}=G();b.useEffect(()=>{const i=o=>{s.current&&!s.current.contains(o.target)&&t(!1)};return e&&document.addEventListener("mousedown",i),()=>document.removeEventListener("mousedown",i)},[e]);const n=[{label:"Home",to:"/",icon:or},{label:"Catalog",to:"/catalog",icon:Zt},{label:"Libris AI",to:"/libris-ai",icon:ar},{label:r?.role==="ADMIN"?"Dashboard":"My Dashboard",to:r?.role==="ADMIN"?"/admin":"/dashboard",icon:r?.role==="ADMIN"?lr:Yt,protected:!0}];return a.jsxs("div",{className:"relative md:hidden",ref:s,children:[a.jsx("button",{onClick:()=>t(!e),className:"flex items-center justify-center rounded-lg p-2 text-slate-600 transition hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-white/5","aria-label":"Menu",children:e?a.jsx(es,{className:"h-6 w-6"}):a.jsx(ts,{className:"h-6 w-6"})}),e&&a.jsx("div",{className:"absolute right-0 mt-2 w-56 rounded-lg border border-slate-200 bg-white shadow-lg dark:border-white/10 dark:bg-slate-900",children:a.jsx("nav",{className:"p-2",children:n.map(i=>{if(i.protected&&!r)return null;const o=i.icon;return a.jsxs(Z,{to:i.to,onClick:()=>t(!1),className:({isActive:l})=>`flex items-center gap-3 rounded-md px-3 py-2 text-sm font-medium transition ${l?"bg-brand-50 text-brand-600 dark:bg-brand-500/20 dark:text-white":"text-slate-700 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-white/5"}`,children:[a.jsx(o,{className:"h-4 w-4"}),i.label]},i.to)})})})]})},Zs="/assets/bugema-CjaohRjS.webp",Go=[{label:"Home",to:"/"},{label:"Catalog",to:"/catalog"},{label:"Libris AI",to:"/libris-ai"},{label:"Dashboard",to:"/dashboard",protected:!0}],Xo=()=>{const e=G(t=>t.user);return a.jsxs("div",{className:"min-h-screen bg-white dark:bg-slate-950",children:[a.jsx("header",{className:"relative z-40 border-b border-slate-200 bg-white/80 backdrop-blur dark:border-white/5 dark:bg-slate-950/80",children:a.jsxs("div",{className:"mx-auto flex max-w-6xl items-center justify-between px-6 py-4",children:[a.jsxs(re,{to:"/",className:"flex items-center gap-2 text-lg font-semibold text-slate-900 dark:text-white",children:[a.jsx("img",{src:Zs,alt:"Bugema University logo",className:"h-8 w-8 rounded-full object-cover"}),a.jsx("span",{className:"hidden md:inline",children:"Bugema University E-Library"})]}),a.jsxs("nav",{className:"hidden gap-6 text-sm font-medium text-slate-600 dark:text-slate-300 md:flex",children:[Go.map(t=>t.protected&&!e?null:a.jsx(Z,{to:t.to,className:({isActive:s})=>`transition hover:text-slate-900 dark:hover:text-white ${s?"text-slate-900 dark:text-white":""}`,children:t.label},t.to)),e?.role==="ADMIN"&&a.jsx(Z,{to:"/admin",className:({isActive:t})=>t?"text-slate-900 dark:text-white":"",children:"Admin"})]}),a.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[a.jsx(Me,{}),e?a.jsxs(a.Fragment,{children:[a.jsx(Jo,{}),a.jsx(Wo,{})]}):a.jsxs("div",{className:"space-x-3",children:[a.jsx(re,{to:"/login",className:"text-sm font-medium text-slate-900 hover:text-slate-900 dark:text-white dark:hover:text-white",children:"Login"}),a.jsx(re,{to:"/register",className:"hidden btn-primary text-sm md:inline-flex",children:"Register"})]})]})]})}),a.jsx("main",{className:"mx-auto max-w-6xl px-4 py-10",children:a.jsx(Ne,{})}),a.jsxs("footer",{className:"border-t border-slate-200 bg-white/80 py-6 text-center text-xs text-slate-500 dark:border-white/5 dark:bg-slate-950/80",children:[" ",new Date().getFullYear()," Bugema University E-Library  Excellence in Service"]})]})},Zo=()=>a.jsx("div",{className:"flex min-h-screen bg-white text-slate-900 dark:bg-gradient-to-r dark:from-sky-700 dark:via-slate-900 dark:to-black dark:text-white",children:a.jsxs("div",{className:"mx-auto flex w-full max-w-6xl flex-col",children:[a.jsx("div",{className:"flex justify-end px-6 pt-6",children:a.jsx(Me,{})}),a.jsxs("div",{className:"mt-6 flex flex-1",children:[a.jsx("div",{className:"hidden lg:flex lg:w-[55%]",children:a.jsxs("div",{className:"flex w-full flex-col justify-between bg-slate-50 px-12 py-10 dark:bg-black/5",children:[a.jsxs("div",{className:"flex flex-1 flex-col justify-center",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("img",{src:Zs,alt:"Bugema University",className:"h-8 w-8 rounded-full object-cover"}),a.jsx("p",{className:"text-xs font-bold uppercase tracking-[0.35em] text-slate-500 dark:text-white/70",children:"Bugema University E-Library"})]}),a.jsxs("h1",{className:"mt-4 text-4xl font-bold leading-tight text-slate-900 dark:text-white",children:[a.jsx("span",{className:"bg-gradient-to-r from-sky-400 to-blue-600 bg-clip-text text-transparent dark:from-sky-300 dark:to-blue-400",children:"Study from Anywhere,"}),a.jsx("br",{}),a.jsx("span",{className:"bg-gradient-to-r from-blue-500 to-violet-600 bg-clip-text text-transparent dark:from-blue-400 dark:to-violet-500",children:"Access the Library Online"})]}),a.jsx("p",{className:"mt-4 max-w-md text-sm text-slate-600 dark:text-white/70",children:"Find course texts, recommended readings, and research materials prepared for Bugema University students and staff  Excellence in Service."}),a.jsxs("div",{className:"mt-10 flex items-center gap-8",children:[a.jsx("div",{className:"flex h-32 w-32 items-center justify-center rounded-2xl bg-sky-600/10 shadow-lg shadow-black/20 dark:bg-black/20 dark:shadow-black/40",children:a.jsxs("svg",{viewBox:"0 0 80 80","aria-hidden":"true",className:"h-24 w-24 text-sky-700 dark:text-white",children:[a.jsx("circle",{cx:"40",cy:"20",r:"9",className:"fill-current"}),a.jsx("path",{d:"M20 34c6 0 11 2 20 6 9-4 14-6 20-6v22c-6 0-11 2-20 6-9-4-14-6-20-6V34z",className:"fill-current"}),a.jsx("circle",{cx:"24",cy:"44",r:"4",className:"fill-current"}),a.jsx("circle",{cx:"56",cy:"44",r:"4",className:"fill-current"})]})}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx("span",{className:"h-16 w-6 rounded-md bg-amber-300/90"}),a.jsx("span",{className:"h-20 w-6 rounded-md bg-emerald-300/90"}),a.jsx("span",{className:"h-14 w-8 rounded-md bg-sky-300/90"}),a.jsx("span",{className:"h-16 w-5 rounded-md bg-rose-300/90"}),a.jsx("span",{className:"h-16 w-7 rounded-md bg-indigo-300/90"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("span",{className:"h-14 w-5 rounded-md bg-emerald-200/80"}),a.jsx("span",{className:"h-20 w-7 rounded-md bg-sky-200/80"}),a.jsx("span",{className:"h-16 w-6 rounded-md bg-violet-200/80"}),a.jsx("span",{className:"h-20 w-5 rounded-md bg-amber-200/80"}),a.jsx("span",{className:"h-16 w-8 rounded-md bg-rose-200/80"})]}),a.jsx("div",{className:"h-1.5 w-40 rounded-full bg-white/40"})]})]})]}),a.jsxs("p",{className:"mt-10 text-xs text-slate-500 dark:text-white/60",children:[" ",new Date().getFullYear()," Bugema University E-Library  Excellence in Service"]})]})}),a.jsx("div",{className:"flex flex-1 lg:w-[45%] flex-col items-center justify-center bg-white px-8 py-10 lg:px-16 dark:bg-transparent",children:a.jsxs("div",{className:"w-full max-w-md space-y-10",children:[a.jsx(re,{to:"/",className:"text-sm font-semibold text-slate-900 dark:text-white",children:" Back to Home"}),a.jsx(Ne,{})]})})]})]})}),Yo=()=>a.jsx("div",{className:"flex min-h-screen bg-white text-slate-900 dark:bg-gradient-to-br dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 dark:text-white",children:a.jsxs("div",{className:"mx-auto flex w-full max-w-6xl flex-col",children:[a.jsx("div",{className:"flex justify-end px-6 pt-6",children:a.jsx(Me,{})}),a.jsx("div",{className:"flex flex-1 items-center justify-center px-6 py-10",children:a.jsxs("div",{className:"w-full max-w-md space-y-10",children:[a.jsx(re,{to:"/",className:"text-sm font-semibold text-slate-900 dark:text-white",children:" Back to Home"}),a.jsx(Ne,{})]})})]})}),Gt=[{label:"Overview",to:"/admin/overview",icon:Yt},{label:"Users",to:"/admin/users",icon:dr},{label:"Subscriptions",to:"/admin/subscriptions",icon:fr},{label:"Books",to:"/admin/books",icon:Zt},{label:"Categories",to:"/admin/categories",icon:hr}],ea=()=>{const{user:e}=G(),[t,s]=b.useState(!1),[r,n]=b.useState(!1);return a.jsxs("div",{className:"flex min-h-screen bg-slate-50 dark:bg-slate-950",children:[a.jsxs("aside",{className:`hidden flex-col border-r border-slate-200 bg-white p-4 transition-all duration-300 dark:border-white/5 dark:bg-slate-900/60 lg:flex ${r?"w-20":"w-64"}`,children:[a.jsx("button",{onClick:()=>n(!r),className:"mb-4 flex items-center justify-center rounded-lg p-2 text-slate-500 hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-white/5",children:r?a.jsx(cr,{className:"h-5 w-5"}):a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ur,{className:"h-5 w-5"}),a.jsx("span",{className:"text-sm font-medium",children:"Collapse"})]})}),a.jsx("div",{className:`flex ${r?"justify-center":""}`,children:r?a.jsx("h2",{className:"text-xl font-bold text-brand-500",children:"LC"}):a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-brand-500 dark:text-brand-300",children:"Admin"}),a.jsx("h2",{className:"mt-2 text-xl font-semibold text-slate-900 dark:text-white",children:"Library Control"}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 truncate max-w-[180px]",children:e?.email})]})}),a.jsx("nav",{className:"mt-10 space-y-2 text-sm text-slate-600 dark:text-slate-400 flex-1",children:Gt.map(i=>a.jsxs(Z,{to:i.to,className:({isActive:o})=>`flex items-center rounded-lg py-2 font-medium transition ${o?"bg-blue-500 text-white dark:bg-blue-600":"hover:bg-slate-100 dark:hover:bg-white/5"} ${r?"justify-center px-0":"px-4 gap-3"}`,title:r?i.label:void 0,children:[a.jsx(i.icon,{className:"h-5 w-5"}),!r&&a.jsx("span",{children:i.label})]},i.to))})]}),a.jsxs("div",{className:"flex flex-1 flex-col",children:[a.jsxs("header",{className:"flex h-16 items-center justify-between border-b border-slate-200 bg-white px-6 dark:border-white/5 dark:bg-slate-900/60",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:()=>s(!t),className:"flex items-center justify-center rounded-lg p-2 text-slate-600 transition hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-white/5 lg:hidden","aria-label":"Toggle Menu",children:t?a.jsx(es,{className:"h-6 w-6"}):a.jsx(ts,{className:"h-6 w-6"})}),a.jsxs("div",{className:"hidden lg:block",children:[a.jsx(Z,{to:"/admin/overview",className:"text-base font-semibold text-slate-900 hover:text-brand-500 dark:text-white dark:hover:text-brand-400",children:"Admin Dashboard"}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 hidden sm:block",children:e?.name})]}),a.jsx("span",{className:"text-base font-semibold text-slate-900 dark:text-white lg:hidden",children:"Admin Dashboard"})]}),a.jsx("div",{className:"hidden md:flex flex-1 max-w-md mx-8",children:a.jsx("div",{className:"relative w-full",children:a.jsx("input",{type:"text",placeholder:"Search books, users, categories...",className:"w-full rounded-lg border border-slate-200 bg-slate-50 px-4 py-2 text-sm text-slate-900 placeholder-slate-500 focus:border-brand-500 focus:outline-none focus:ring-1 focus:ring-brand-500 dark:border-white/10 dark:bg-slate-800 dark:text-white dark:placeholder-slate-400"})})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Me,{}),a.jsxs(Z,{to:"/",className:"hidden md:flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium text-slate-600 transition hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-white/5",children:[a.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Main Site"]})]})]}),t&&a.jsx("div",{className:"border-b border-slate-200 bg-white p-4 dark:border-white/5 dark:bg-slate-900/60 lg:hidden",children:a.jsx("nav",{className:"space-y-2",children:Gt.map(i=>a.jsxs(Z,{to:i.to,onClick:()=>s(!1),className:({isActive:o})=>`flex items-center gap-3 rounded-lg px-4 py-3 text-sm font-bold transition ${o?"bg-brand-50 text-brand-700 dark:bg-brand-500/20 dark:text-white":"text-slate-700 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-white/5"}`,children:[a.jsx(i.icon,{className:"h-5 w-5"}),i.label]},i.to))})}),a.jsx("main",{className:"flex-1 px-6 py-10",children:a.jsx(Ne,{})})]})]})},Ys=({label:e="Loading..."})=>a.jsx("div",{className:"flex min-h-screen items-center justify-center",children:a.jsxs("div",{className:"space-y-3 text-center",children:[a.jsx("div",{className:"mx-auto h-10 w-10 animate-spin rounded-full border-4 border-brand-400 border-t-transparent"}),a.jsx("p",{className:"text-sm text-slate-400",children:e})]})}),T=({roles:e,children:t})=>{const s=rr(),{user:r,isHydrated:n}=G();return n?r?e&&!e.includes(r.role)?a.jsx(Re,{to:"/unauthorized",replace:!0}):a.jsx(a.Fragment,{children:t}):a.jsx(Re,{to:"/login",state:{from:s},replace:!0}):a.jsx(Ys,{label:"Preparing your library experience"})},ta=b.lazy(()=>O(()=>import("./HomePage-BKzD-zPN.js"),__vite__mapDeps([0,1,2,3,4,5]))),sa=b.lazy(()=>O(()=>import("./CatalogPage-BNd_mTHz.js"),__vite__mapDeps([6,2,1,7,3,8,9,10,5]))),ra=b.lazy(()=>O(()=>import("./BookDetailPage-BpypG7aF.js"),__vite__mapDeps([11,1,2,7,3,10,5,8,9]))),na=b.lazy(()=>O(()=>import("./ReaderPage-BP-X1413.js"),__vite__mapDeps([12,1,2,7,3,13,14,5,8,9,15]))),ia=b.lazy(()=>O(()=>import("./DashboardPage-eEKx9MTK.js"),__vite__mapDeps([16,2,1,13,4,5]))),oa=b.lazy(()=>O(()=>import("./AnalyticsPage-Bm6GFKBp.js"),__vite__mapDeps([17,1,2,13,18,5,14,19,20,21]))),aa=b.lazy(()=>O(()=>import("./AnalyticsTimePage-BLZtJvqo.js"),__vite__mapDeps([22,2,1,13,18,5,14,19,23]))),la=b.lazy(()=>O(()=>import("./AnalyticsStreakPage-DNf_Z1SE.js"),__vite__mapDeps([24,2,1,13,5]))),ca=b.lazy(()=>O(()=>import("./AnalyticsPagesPage-BGQ-ySro.js"),__vite__mapDeps([25,2,1,13,4,18,5,14,19,23]))),ua=b.lazy(()=>O(()=>import("./AnalyticsCompletionPage-BRpv7KIM.js"),__vite__mapDeps([26,1,2,13,18,5,14,21]))),da=b.lazy(()=>O(()=>import("./CompletedBooksPage-DbBP7udO.js"),__vite__mapDeps([27,1,2,13,5]))),fa=b.lazy(()=>O(()=>import("./ProfilePage-SjiVYlvu.js"),__vite__mapDeps([28,2,7,5]))),ha=b.lazy(()=>O(()=>import("./LibrisAIPage-BhDFobEK.js"),__vite__mapDeps([29,2,5]))),ma=b.lazy(()=>O(()=>import("./LoginPage-Bpyjlo7U.js"),__vite__mapDeps([30,7,2,31,5]))),pa=b.lazy(()=>O(()=>import("./RegisterPage-UAnZ_Gnz.js"),__vite__mapDeps([32,7,2,31,5]))),ya=b.lazy(()=>O(()=>import("./ForgotPasswordPage-Dqxozfwr.js"),__vite__mapDeps([33,31,2,5]))),ga=b.lazy(()=>O(()=>import("./ResetCodePage-CRNtYvxs.js"),__vite__mapDeps([34,31,2,5]))),ba=b.lazy(()=>O(()=>import("./NewPasswordPage-BOO8Qc6b.js"),__vite__mapDeps([35,31,2,5]))),xa=b.lazy(()=>O(()=>import("./VisitorAccessPage-BxAFcRyF.js"),__vite__mapDeps([36,2,5]))),va=b.lazy(()=>O(()=>import("./VisitorRegisterPage-BdE2YXUu.js"),__vite__mapDeps([37,7,2,31,5]))),wa=b.lazy(()=>O(()=>import("./SubscriptionPlansPage-DREaus1z.js"),__vite__mapDeps([38,1,2,9,5]))),ja=b.lazy(()=>O(()=>import("./SubscriptionPaymentPage-CjDBVMh9.js"),__vite__mapDeps([39,2,1,9,5]))),Ea=b.lazy(()=>O(()=>import("./MobileMoneyPaymentPage-DMQBUsjb.js"),__vite__mapDeps([40,2,1,7,9,5]))),Sa=b.lazy(()=>O(()=>import("./CardPaymentPage-dzTBv7YH.js"),__vite__mapDeps([41,2,1,7,9,5]))),Oa=b.lazy(()=>O(()=>import("./PayPalPaymentPage-DuRknaT0.js"),__vite__mapDeps([42,2,1,7,9,5]))),ka=b.lazy(()=>O(()=>import("./AdminOverviewPage-DZhIHyUX.js"),__vite__mapDeps([43,2,1,4,18,5,14,20,19,21]))),_a=b.lazy(()=>O(()=>import("./AdminUsersPage-C4-K0D1U.js"),__vite__mapDeps([44,2,1,7,5]))),Ra=b.lazy(()=>O(()=>import("./AdminSubscriptionsPage-DOchUPhw.js"),__vite__mapDeps([45,1,2,5]))),Pa=b.lazy(()=>O(()=>import("./AdminBooksPage-CVEmxSRm.js"),__vite__mapDeps([46,2,1,7,3,31,5]))),Aa=b.lazy(()=>O(()=>import("./AdminCategoriesPage-ChL4Pv5-.js"),__vite__mapDeps([47,1,2,7,3,31,5]))),Ta=b.lazy(()=>O(()=>import("./UnauthorizedPage-N-uBqZeg.js"),__vite__mapDeps([48,2,5]))),Na=()=>a.jsx(b.Suspense,{fallback:a.jsx(Ys,{label:"Loading..."}),children:a.jsxs(nr,{children:[a.jsxs(S,{element:a.jsx(Xo,{}),children:[a.jsx(S,{index:!0,element:a.jsx(ta,{})}),a.jsx(S,{path:"catalog",element:a.jsx(sa,{})}),a.jsx(S,{path:"catalog/:bookId",element:a.jsx(ra,{})}),a.jsx(S,{path:"reader/:bookId",element:a.jsx(T,{children:a.jsx(na,{})})}),a.jsx(S,{path:"dashboard",element:a.jsx(T,{children:a.jsx(ia,{})})}),a.jsx(S,{path:"profile",element:a.jsx(T,{children:a.jsx(fa,{})})}),a.jsx(S,{path:"libris-ai",element:a.jsx(ha,{})}),a.jsx(S,{path:"analytics",element:a.jsx(T,{children:a.jsx(oa,{})})}),a.jsx(S,{path:"analytics/time",element:a.jsx(T,{children:a.jsx(aa,{})})}),a.jsx(S,{path:"analytics/streak",element:a.jsx(T,{children:a.jsx(la,{})})}),a.jsx(S,{path:"analytics/pages",element:a.jsx(T,{children:a.jsx(ca,{})})}),a.jsx(S,{path:"analytics/completion",element:a.jsx(T,{children:a.jsx(ua,{})})}),a.jsx(S,{path:"books/completed",element:a.jsx(T,{children:a.jsx(da,{})})})]}),a.jsxs(S,{element:a.jsx(Zo,{}),children:[a.jsx(S,{path:"login",element:a.jsx(ma,{})}),a.jsx(S,{path:"register",element:a.jsx(pa,{})}),a.jsx(S,{path:"visitor-access",element:a.jsx(xa,{})}),a.jsx(S,{path:"visitor-register",element:a.jsx(va,{})})]}),a.jsxs(S,{element:a.jsx(Yo,{}),children:[a.jsx(S,{path:"forgot-password",element:a.jsx(ya,{})}),a.jsx(S,{path:"reset-code",element:a.jsx(ga,{})}),a.jsx(S,{path:"new-password",element:a.jsx(ba,{})}),a.jsx(S,{path:"subscription/plans",element:a.jsx(T,{children:a.jsx(wa,{})})}),a.jsx(S,{path:"subscription/payment/:planId",element:a.jsx(T,{children:a.jsx(ja,{})})}),a.jsx(S,{path:"subscription/payment/:planId/mobile-money/:provider?",element:a.jsx(T,{children:a.jsx(Ea,{})})}),a.jsx(S,{path:"subscription/payment/:planId/card",element:a.jsx(T,{children:a.jsx(Sa,{})})}),a.jsx(S,{path:"subscription/payment/:planId/paypal",element:a.jsx(T,{children:a.jsx(Oa,{})})})]}),a.jsxs(S,{path:"admin",element:a.jsx(T,{roles:["ADMIN"],children:a.jsx(ea,{})}),children:[a.jsx(S,{index:!0,element:a.jsx(Re,{to:"overview",replace:!0})}),a.jsx(S,{path:"overview",element:a.jsx(ka,{})}),a.jsx(S,{path:"users",element:a.jsx(_a,{})}),a.jsx(S,{path:"subscriptions",element:a.jsx(Ra,{})}),a.jsx(S,{path:"books",element:a.jsx(Pa,{})}),a.jsx(S,{path:"categories",element:a.jsx(Aa,{})})]}),a.jsx(S,{path:"unauthorized",element:a.jsx(Ta,{})}),a.jsx(S,{path:"*",element:a.jsx(Re,{to:"/",replace:!0})})]})}),Ca=12*60*1e3,La=()=>{const e=G(t=>t.refreshToken);b.useEffect(()=>{if(!e)return;const t=setInterval(()=>{Vo().catch(()=>{})},Ca);return()=>clearInterval(t)},[e])};function Fa(){return La(),a.jsxs(a.Fragment,{children:[a.jsx(Na,{}),a.jsx(Fn,{position:"top-right"})]})}const Da=new Qr({defaultOptions:{queries:{refetchOnWindowFocus:!1,staleTime:5*60*1e3,gcTime:10*60*1e3,retry:1}}});Xe.createRoot(document.getElementById("root")).render(a.jsx(Xt.StrictMode,{children:a.jsx(Vr,{client:Da,children:a.jsx(ir,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:a.jsx(Fa,{})})})}));export{os as A,Mr as B,Pr as C,Ys as L,Le as S,$a as a,$ as b,ul as c,hl as d,fl as e,N as f,$r as g,ue as h,D as i,a as j,Ba as k,ll as l,qa as m,R as n,kr as o,Cr as p,Ye as q,cl as r,Ma as s,Fe as t,G as u,dl as v,Sr as w,Or as x,Ze as y,za as z};
