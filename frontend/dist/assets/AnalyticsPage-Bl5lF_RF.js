import{j as e,L as x}from"./index-JCKDIzil.js";import{u as h}from"./useQuery-CRcodGZg.js";import{a as f}from"./reading-hNSjY2OO.js";import{R as i,T as l,B as u,C as p}from"./generateCategoricalChart-BIqcnmrS.js";import{B as j,C as d,X as o,Y as c}from"./BarChart-D7jnTnPj.js";import{L as g,a as y}from"./LineChart-blhS04xT.js";import{P as b,a as v}from"./PieChart-Camb4-vU.js";import"./react-vendor-BXWpoY3z.js";import"./ui-vendor-LNFcJBPj.js";import"./tiny-invariant-CopsF_GD.js";const P=()=>{const{data:a,isLoading:m}=h({queryKey:["dashboard"],queryFn:()=>f(),staleTime:12e4});if(m)return e.jsx(x,{label:"Loading analytics"});if(!a)return e.jsx("div",{className:"flex min-h-[40vh] items-center justify-center text-center",children:e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Unable to load analytics data."})});const r=a.stats.daily_activity||[],s=[{name:"Completed",value:a.completed?.length||0},{name:"In Progress",value:a.in_progress?.length||0}];return e.jsxs("div",{className:"space-y-8 animate-in",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.4em] text-brand-600 dark:text-brand-400",children:"Analytics"}),e.jsx("h1",{className:"page-title",children:"Reading Habits"}),e.jsx("p",{className:"page-subtitle",children:"Visualize your reading performance over time"})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs("div",{className:"card p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4",children:"Daily Reading Time (Last 14 Days)"}),e.jsx("div",{className:"h-[300px] w-full",children:e.jsx(i,{width:"100%",height:"100%",children:e.jsxs(j,{data:r,children:[e.jsx(d,{strokeDasharray:"3 3",opacity:.1}),e.jsx(o,{dataKey:"date",tickFormatter:t=>new Date(t).toLocaleDateString(void 0,{day:"numeric",month:"short"}),fontSize:12,tick:{fill:"#64748b"}}),e.jsx(c,{label:{value:"Minutes",angle:-90,position:"insideLeft",style:{fill:"#64748b"}},fontSize:12,tick:{fill:"#64748b"}}),e.jsx(l,{contentStyle:{backgroundColor:"#1e293b",border:"none",borderRadius:"8px",color:"#fff"},itemStyle:{color:"#fff"},formatter:t=>[`${t} mins`,"Reading Time"],labelFormatter:t=>new Date(t).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),e.jsx(u,{dataKey:"minutes",fill:"#8b5cf6",radius:[4,4,0,0]})]})})})]}),e.jsxs("div",{className:"card p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4",children:"Reading Trend"}),e.jsx("div",{className:"h-[300px] w-full",children:e.jsx(i,{width:"100%",height:"100%",children:e.jsxs(g,{data:r,children:[e.jsx(d,{strokeDasharray:"3 3",opacity:.1}),e.jsx(o,{dataKey:"date",tickFormatter:t=>new Date(t).toLocaleDateString(void 0,{day:"numeric",month:"short"}),fontSize:12,tick:{fill:"#64748b"}}),e.jsx(c,{fontSize:12,tick:{fill:"#64748b"}}),e.jsx(l,{contentStyle:{backgroundColor:"#1e293b",border:"none",borderRadius:"8px",color:"#fff"},itemStyle:{color:"#fff"}}),e.jsx(y,{type:"monotone",dataKey:"minutes",stroke:"#10b981",strokeWidth:3,dot:{r:4},activeDot:{r:6}})]})})})]}),e.jsxs("div",{className:"card p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4",children:"Book Completion Status"}),e.jsx("div",{className:"h-[300px] w-full flex items-center justify-center",children:e.jsx(i,{width:"100%",height:"100%",children:e.jsxs(b,{children:[e.jsx(v,{data:s,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,fill:"#8884d8",paddingAngle:5,dataKey:"value",children:s.map((t,n)=>e.jsx(p,{fill:n===0?"#8b5cf6":"#3b82f6"},`cell-${n}`))}),e.jsx(l,{contentStyle:{backgroundColor:"#1e293b",border:"none",borderRadius:"8px",color:"#fff"},itemStyle:{color:"#fff"}})]})})}),e.jsxs("div",{className:"flex justify-center gap-6 mt-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-violet-500"}),e.jsxs("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Completed (",s[0].value,")"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),e.jsxs("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:["In Progress (",s[1].value,")"]})]})]})]})]})]})};export{P as default};
